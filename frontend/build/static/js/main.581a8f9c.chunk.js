(this.webpackJsonpweb_frontend=this.webpackJsonpweb_frontend||[]).push([[0],{122:function(e,a,t){e.exports=t.p+"static/media/loading-arrow.e9ea7394.gif"},124:function(e,a,t){e.exports=t.p+"static/media/login.214835ea.jpg"},128:function(e,a,t){e.exports=t.p+"static/media/cabeleireiros.2df653d9.jpg"},145:function(e,a,t){e.exports=t(231)},150:function(e,a,t){},155:function(e,a,t){e.exports=t.p+"static/media/cabeleireiro2.00fff85c.jpg"},172:function(e,a,t){},231:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(39),c=t.n(l),o=t(9),i=(t(150),t(13)),s=t(12),m=t(15),u=t(14);function d(e){var a=e.children,t=e.hero;return r.a.createElement("header",{className:t},a)}function p(e){var a=e.children,t=e.title,n=e.subtitle;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,t),r.a.createElement("div",null),r.a.createElement("p",null,n),a)}d.defaultProps={hero:"defaultHero"};var h=t(42),v=function(){localStorage.removeItem("user_email"),localStorage.removeItem("user_type")};function b(){return fetch("http://localhost:3000/user").then((function(e){return e.json().then((function(e){return e})).catch((function(e){console.log(e)}))}))}var E=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={isOpen:!1},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(s.a)(t,[{key:"handleCheck",value:function(e){v()}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header"}),r.a.createElement("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/home/"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/reservas/"},"As minhas reservas")),r.a.createElement("li",{onClick:this.handleCheck.bind(this)},r.a.createElement(o.b,{to:"/"},"Logout")))))}}]),t}(n.Component),g=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={isOpen:!1},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(s.a)(t,[{key:"handleCheck",value:function(e){v()}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header"}),r.a.createElement("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/home/"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/marcacoes/"},"Reservas do meu Sal\xe3o")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/gestao/"},"Gest\xe3o")),r.a.createElement("li",{onClick:this.handleCheck.bind(this)},r.a.createElement(o.b,{to:"/"},"Logout")))))}}]),t}(n.Component),f=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return console.log(localStorage.getItem("user_email")),r.a.createElement(n.Fragment,null,"dono"==localStorage.getItem("user_type")?r.a.createElement(g,null):r.a.createElement(E,null),r.a.createElement(d,null,r.a.createElement(p,{title:"Bem-vindo",subtitle:"Aqui poder\xe1 reservar os servi\xe7os que procura sem sair de casa"},r.a.createElement(o.b,{to:"/cabeleireiros",className:"btn-primary"},"Cabeleireiros"),r.a.createElement("strong",null," "),r.a.createElement(o.b,{to:"/barbeiros",className:"btn-primary"},"Barbeiros"))))}}]),t}(n.Component),y=Object(h.g)(f),C=t(21),x=t(25),O=t(18),j=t(43),S=t.n(j);t(155);var k=r.a.createContext(),N=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={cabeleireiros:[],sortedCabeleireiros:[],barbeiros:[],sortedBarbeiros:[],loading:!0,nome:"",cidade:""},e.getCabeleireiro=function(a){return Object(O.a)(e.state.cabeleireiros).find((function(e){return e.id===a}))},e.getBarbeiro=function(a){return Object(O.a)(e.state.barbeiros).find((function(e){return e.id===a}))},e.handleChangeCabeleireiros=function(a){var t=a.target,n="checkbox"===t.nome?t.checked:t.value,r=a.target.name;e.setState(Object(x.a)({},r,n),e.filterCabeleireiros)},e.handleChangeBarbeiros=function(a){var t=a.target,n="checkbox"===t.nome?t.checked:t.value,r=a.target.name;e.setState(Object(x.a)({},r,n),e.filterBarbeiros)},e.filterBarbeiros=function(){var a=e.state,t=a.barbeiros,n=a.nome,r=a.cidade,l=Object(O.a)(t);""!==n&&(l=l.filter((function(e){return e.nome===n}))),""!==r&&(l=l.filter((function(e){return e.cidade===r}))),e.setState({sortedBarbeiros:l})},e.filterCabeleireiros=function(){var a=e.state,t=a.cabeleireiros,n=a.nome,r=a.cidade,l=Object(O.a)(t);""!==n&&(l=l.filter((function(e){return e.nome===n}))),""!==r&&(l=l.filter((function(e){return e.cidade===r}))),e.setState({sortedCabeleireiros:l})},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=[],t=[];fetch("http://localhost:3000/saloon").then((function(e){return e.json().then((function(e){return e})).catch((function(e){console.log(e)}))})).then((function(n){a=e.formatDataCabeleireiros(n),t=e.formatDataBarbeiros(n),e.setState({cabeleireiros:a,barbeiros:t,sortedBarbeiros:t,sortedCabeleireiros:a,loading:!1})}))}},{key:"formatDataCabeleireiros",value:function(e){var a=[];return e.map((function(e){var t=e.id,n=e.name,r=e.city,l=e.description,c=e.address,o=[e.image],i=e.type,s={nome:n,morada:c,descricao:l,cidade:r,type:i,imagens:o,id:t,contacto:e.contact};"Cabeleireiro"==i&&a.push(s)})),a}},{key:"formatDataBarbeiros",value:function(e){var a=[];return e.map((function(e){var t=e.id,n=e.name,r=e.city,l=e.description,c=e.address,o=[e.image],i=e.type,s={nome:n,morada:c,descricao:l,cidade:r,type:i,imagens:o,id:t};"Barbeiro"==i&&a.push(s)})),a}},{key:"render",value:function(){return r.a.createElement(k.Provider,{value:Object(C.a)(Object(C.a)({},this.state),{},{getCabeleireiro:this.getCabeleireiro,handleChangeCabeleireiros:this.handleChangeCabeleireiros,getBarbeiro:this.getBarbeiro,handleChangeBarbeiros:this.handleChangeBarbeiros})},this.props.children)}}]),t}(n.Component),w=k.Consumer;function _(e){return function(a){return r.a.createElement(w,null,(function(t){return r.a.createElement(e,Object.assign({},a,{context:t}))}))}}var D=t(122),I=t.n(D);function B(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h4",null,"cabeleireiros data loading..."),r.a.createElement("img",{src:I.a,alt:""}))}function q(e){var a=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,a),r.a.createElement("div",null))}var A=function(e,a){return Object(O.a)(new Set(e.map((function(e){return e[a]}))))};function T(e){var a=e.barbeiros,t=Object(n.useContext)(k);console.log(t);var l=t.handleChangeBarbeiros,c=t.nome,o=t.cidade,i=A(a,"nome");i=(i=["todos"].concat(Object(O.a)(i))).map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}));var s=A(a,"cidade");return s=(s=["todas"].concat(Object(O.a)(s))).map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})),r.a.createElement("section",{className:"filter-container"},r.a.createElement(q,{title:"procure por nome ou cidade"}),r.a.createElement("form",{className:"filter-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome"),r.a.createElement("div",{className:"search-inputs"},r.a.createElement("input",{type:"String",name:"nome",id:"nome",value:c,onChange:l,className:"search-input"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cidade"},"cidade"),r.a.createElement("div",{className:"cidade-inputs"},r.a.createElement("input",{type:"String",name:"cidade",id:"cidade",value:o,onChange:l,className:"search-input"})))))}function F(e){var a=e.barbeiro,n=a.id,l=a.nome,c=a.cidade;return r.a.createElement("article",{className:"cabeleireiro"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:t(88),alt:"single cabeleireiro"}),r.a.createElement("div",{className:"price-top"},r.a.createElement("h6",null,c)),r.a.createElement(o.b,{to:"/barbeiros/".concat(n),className:"btn-primary cabeleireiro-link"},"Ver")),r.a.createElement("p",{className:"cabeleireiro-info"},l))}function z(e){var a=e.barbeiros;return 0===a.length?r.a.createElement("div",{className:"empty-search"},r.a.createElement("h3",null,"N\xe3o existem cabeleireiros dispon\xedveis")):r.a.createElement("section",{className:"cabeleireiroslist"},r.a.createElement("div",{className:"cabeleireiroslist-center"},a.map((function(e){return r.a.createElement(F,{key:e.id,barbeiro:e})}))))}var P=_((function(e){var a=e.context,t=a.loading,n=a.sortedBarbeiros,l=a.barbeiros;return t?r.a.createElement(B,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{barbeiros:l}),r.a.createElement(z,{barbeiros:n}))})),R=function(){return r.a.createElement(r.a.Fragment,null,"dono"==localStorage.getItem("user_type")?r.a.createElement(g,null):r.a.createElement(E,null),r.a.createElement(d,{hero:"barbeirosHero"},";",r.a.createElement(p,{title:"Barbeiros"})),r.a.createElement(P,null))},G=t(32),M=t(123),H=t.n(M).a.create({baseURL:"http://localhost:3000"}),W=t(261),U=t(263),L=t(280),V=function(e){var a={id:null,name:"",postalCode:"",city:"",country:"",status:"Aberto",type:"Cabeleireiro",contact:"",description:"",address:""},t=Object(n.useState)(a),l=Object(G.a)(t,2),c=l[0],o=l[1],i=r.a.useState({cortes:!1,manicurepedicure:!1,escovas:!1,tratamentocapilar:!1,"servi\xe7os_especiais":!1,depilacao:!1,maquilhagem:!1,quimicas:!1}),s=Object(G.a)(i,2),m=s[0],u=s[1],d=r.a.useState({cortes:[],manicure_pedicure:[],escovas:[],tratamento_capilar:[],"servi\xe7os_especiais":[],depilacao:[],maquilhagem:[],quimicas:[]}),p=Object(G.a)(d,2),h=p[0],v=p[1],b=function(e){var a=e.target;return u((function(e){return Object(C.a)(Object(C.a)({},e),{},Object(x.a)({},a.name,!e[a.name]))}))},E=function(e){var a=e.target,t=a.name,n=a.value;v(Object(C.a)(Object(C.a)({},h),{},Object(x.a)({},t,n.split(","))))},g=function(e){var a=e.target,t=a.name,n=a.value;console.log(n),o(Object(C.a)(Object(C.a)({},c),{},Object(x.a)({},t,n)))};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c.name&&c.city&&(H.get("/user/").then((function(e){var a,t=e.data;for(var n in t)for(var r in t[n])t[n].email===localStorage.getItem("user_email")&&(a=t[n]);H.post("/saloon/",{name:c.name,postalCode:c.postalCode,city:c.city,country:c.country,status:c.status,type:c.type,contact:c.contact,description:c.description,address:c.address,owner:a}).then((function(e){var a=function(a){m[a]&&H.post("/service/",{name:a,saloon:e.data}).then((function(e){for(var t in h[a])H.post("/schedule/",{startTime:h[a][t],service:e.data}).then((function(e){}))}))};for(var t in m)a(t)}))})),o(a),alert("Sal\xe3o Adicionado!"))}},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{type:"text",name:"name",value:c.name,onChange:g}),r.a.createElement("label",null,"C\xf3digo Postal"),r.a.createElement("input",{type:"text",name:"postalCode",value:c.postalCode,onChange:g}),r.a.createElement("label",null,"Cidade"),r.a.createElement("input",{type:"text",name:"city",value:c.city,onChange:g}),r.a.createElement("label",null,"Pa\xeds"),r.a.createElement("input",{type:"text",name:"country",value:c.country,onChange:g}),r.a.createElement("label",null,"Estado"),r.a.createElement("select",{name:"status",onChange:g},r.a.createElement("option",{name:"Aberto",value:"Aberto"},"Aberto"),r.a.createElement("option",{name:"Fechado",value:"Fechado"},"Fechado")),r.a.createElement("label",null,"Tipo"),r.a.createElement("select",{name:"type",onChange:g},r.a.createElement("option",{name:"Cabeleireiro",value:"Cabeleireiro"},"Cabeleireiro"),r.a.createElement("option",{name:"Barbeiro",value:"Barbeiro"},"Barbeiro")),r.a.createElement("label",null,"Contacto"),r.a.createElement("input",{type:"text",name:"contact",value:c.contact,onChange:g}),r.a.createElement("label",null,"Descri\xe7\xe3o"),r.a.createElement("input",{type:"text",name:"description",value:c.description,onChange:g}),r.a.createElement("label",null,"Endere\xe7o"),r.a.createElement("input",{type:"text",name:"address",value:c.address,onChange:g}),r.a.createElement("label",null,"Servi\xe7os dispon\xedveis"),r.a.createElement(W.a,null,r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:m.cortes,onChange:b,name:"cortes"}),label:"Cortes"}),r.a.createElement("input",{type:"text",name:"cortes",value:h.cortes,onChange:E,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:m.manicure_pedicure,onChange:b,name:"manicure_pedicure"}),label:"Manicure Pedicure"}),r.a.createElement("input",{type:"text",name:"manicure_pedicure",value:h.manicure_pedicure,onChange:E,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:m.escovas,onChange:b,name:"escovas"}),label:"Escovas"}),r.a.createElement("input",{type:"text",name:"escovas",value:h.escovas,onChange:E,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:m.tratamento_capilar,onChange:b,name:"tratamento_capilar"}),label:"Tratamento Capilar"}),r.a.createElement("input",{type:"text",name:"tratamento_capilar",value:h.tratamento_capilar,onChange:E,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:m.servi\u00e7os_especiais,onChange:b,name:"servi\xe7os_especiais"}),label:"Servi\xe7os Especiais"}),r.a.createElement("input",{type:"text",name:"servi\xe7os_especiais",value:h.servi\u00e7os_especiais,onChange:E,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:m.depilacao,onChange:b,name:"depilacao"}),label:"Depila\xe7\xe3o"}),r.a.createElement("input",{type:"text",name:"depilacao",value:h.depilacao,onChange:E,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00))"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:m.maquilhagem,onChange:b,name:"maquilhagem"}),label:"Maquilhagem"}),r.a.createElement("input",{type:"text",name:"maquilhagem",value:h.maquilhagem,onChange:E,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:m.quimicas,onChange:b,name:"quimicas"}),label:"Quimicas"}),r.a.createElement("input",{type:"text",name:"quimicas",value:h.quimicas,onChange:E,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"})),r.a.createElement("button",null,"Adicionar novo sal\xe3o"))},J=function(e){var a=Object(n.useState)(e.currentCabeleireiro),t=Object(G.a)(a,2),l=t[0],c=t[1],o=r.a.useState({cortes:!1,manicure_pedicure:!1,escovas:!1,tratamento_capilar:!1,"servi\xe7os_especiais":!1,depilacao:!1,maquilhagem:!1,quimicas:!1}),i=Object(G.a)(o,2),s=i[0],m=i[1],u=r.a.useState({cortes:[],manicure_pedicure:[],escovas:[],tratamento_capilar:[],"servi\xe7os_especiais":[],depilacao:[],maquilhagem:[],quimicas:[]}),d=Object(G.a)(u,2),p=d[0],h=d[1];Object(n.useEffect)((function(){c(e.currentCabeleireiro)}),[e]);var v=function(e){var a=e.target;return m((function(e){return Object(C.a)(Object(C.a)({},e),{},Object(x.a)({},a.name,!e[a.name]))}))},b=function(e){var a=e.target,t=a.name,n=a.value;h(Object(C.a)(Object(C.a)({},p),{},Object(x.a)({},t,n.split(","))))},E=function(e){var a=e.target,t=a.name,n=a.value;c(Object(C.a)(Object(C.a)({},l),{},Object(x.a)({},t,n)))};return r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),console.log(l),H.get("/user/").then((function(a){var t,n=a.data;for(var r in n)for(var c in n[r])n[r].email===localStorage.getItem("user_email")&&(t=n[r]);e.updateCabeleireiro(l.id,l),H.put("/saloon/"+l.id,{name:l.name,postalCode:l.postalCode,city:l.city,country:l.country,status:l.status,type:l.type,contact:l.contact,description:l.description,address:l.address,owner:t}).then()}))}},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{type:"text",name:"name",value:l.name,onChange:E}),r.a.createElement("label",null,"C\xf3digo Postal"),r.a.createElement("input",{type:"text",name:"postalCode",value:l.postalCode,onChange:E}),r.a.createElement("label",null,"Cidade"),r.a.createElement("input",{type:"text",name:"city",value:l.city,onChange:E}),r.a.createElement("label",null,"Pa\xeds"),r.a.createElement("input",{type:"text",name:"country",value:l.country,onChange:E}),r.a.createElement("label",null,"Estado"),r.a.createElement("input",{type:"text",name:"status",value:l.status,onChange:E}),r.a.createElement("label",null,"Tipo"),r.a.createElement("input",{type:"text",name:"type",value:l.type,onChange:E}),r.a.createElement("label",null,"Contacto"),r.a.createElement("input",{type:"text",name:"contact",value:l.contact,onChange:E}),r.a.createElement("label",null,"Descri\xe7\xe3o"),r.a.createElement("input",{type:"text",name:"description",value:l.description,onChange:E}),r.a.createElement("label",null,"Endere\xe7o"),r.a.createElement("input",{type:"text",name:"address",value:l.address,onChange:E}),r.a.createElement("label",null,"Servi\xe7os Dispon\xedveis"),r.a.createElement(W.a,null,r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:s.cortes,onChange:v,name:"cortes"}),label:"Cortes"}),r.a.createElement("input",{type:"text",name:"cortes",value:p.cortes,onChange:b,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:s.manicure_pedicure,onChange:v,name:"manicure_pedicure"}),label:"Manicure Pedicure"}),r.a.createElement("input",{type:"text",name:"manicure_pedicure",value:p.manicure_pedicure,onChange:b,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:s.escovas,onChange:v,name:"escovas"}),label:"Escovas"}),r.a.createElement("input",{type:"text",name:"escovas",value:p.escovas,onChange:b,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:s.tratamento_capilar,onChange:v,name:"tratamento_capilar"}),label:"Tratamento Capilar"}),r.a.createElement("input",{type:"text",name:"tratamento_capilar",value:p.tratamento_capilar,onChange:b,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:s.servi\u00e7os_especiais,onChange:v,name:"servi\xe7os_especiais"}),label:"Servi\xe7os Especiais"}),r.a.createElement("input",{type:"text",name:"servi\xe7os_especiais",value:p.servi\u00e7os_especiais,onChange:b,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:s.depilacao,onChange:v,name:"depilacao"}),label:"Depila\xe7\xe3o"}),r.a.createElement("input",{type:"text",name:"depilacao",value:p.depilacao,onChange:b,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:s.maquilhagem,onChange:v,name:"maquilhagem"}),label:"Maquilhagem"}),r.a.createElement("input",{type:"text",name:"maquilhagem",value:p.maquilhagem,onChange:b,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"}),r.a.createElement(U.a,{control:r.a.createElement(L.a,{checked:s.quimicas,onChange:v,name:"quimicas"}),label:"Quimicas"}),r.a.createElement("input",{type:"text",name:"quimicas",value:p.quimicas,onChange:b,placeholder:"Introduza hor\xe1rios dispon\xedveis ( p.e. 09:00:00,12:30:00)"})),r.a.createElement("button",null,"Editar cabeleireiro"))},Q=function(e){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Cidade"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"A\xe7\xf5es"))),r.a.createElement("tbody",null,e.cabeleireiros.length>0?e.cabeleireiros.map((function(a){return r.a.createElement("tr",{key:a.id},r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.city),r.a.createElement("td",null,a.type),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){e.editRow(a)},classNome:"button muted-button"},"Editar"),r.a.createElement("button",{onClick:function(){return e.deleteCabeleireiro(a.id)},classNome:"button muted-button"},"Remover")))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3},"Sem cabeleireiros"))))},$=(t(172),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={cabeleireiros:[],currentCabeleireiro:{},editing:!1},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.GetSaloons()}},{key:"GetSaloons",value:function(){var e=this;H.get("/saloon/").then((function(a){var t=a.data,n=function(a){t[a].owner.email==localStorage.getItem("user_email")&&e.setState((function(e){return{cabeleireiros:[].concat(Object(O.a)(e.cabeleireiros),[t[a]])}}))};for(var r in t)n(r)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,"dono"==localStorage.getItem("user_type")?r.a.createElement(g,null):r.a.createElement(E,null),r.a.createElement(n.Fragment,null,r.a.createElement(g,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Gest\xe3o dos meus sal\xf5es"),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"flex-large"},this.state.editing?r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Editar sal\xe3o"),r.a.createElement(J,{editing:this.state.editing,setEditing:this.state.setEditing,currentCabeleireiro:this.state.currentCabeleireiro,updateCabeleireiro:function(a,t){e.setState({editing:!1}),e.setState({cabeleireiros:e.state.cabeleireiros.map((function(e){return e.id===a?t:e}))})}})):r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Adicionar sal\xe3o"),r.a.createElement(V,{addCabeleireiro:function(a){a.id=e.state.cabeleireiros.length+1,e.setState({cabeleireiros:[].concat(Object(O.a)(e.state.cabeleireiros),[a])})}}))),r.a.createElement("div",{className:"flex-large"},r.a.createElement("h2",null,"Ver sal\xf5es"),r.a.createElement(Q,{cabeleireiros:this.state.cabeleireiros,editRow:function(a){e.setState({editing:!0}),e.setState({currentCabeleireiro:{id:a.id,name:a.name,city:a.city,postalCode:a.postalCode,country:a.country,status:a.status,type:a.type,contact:a.contact,description:a.description,address:a.address}})},deleteCabeleireiro:function(a){e.setState({editing:!1}),e.setState({cabeleireiros:e.state.cabeleireiros.filter((function(e){return e.id!==a}))}),H.get("/schedule/").then((function(e){var t=e.data,n=function(e){t[e].service.saloon.id==parseInt(a)&&H.delete("/schedule/"+t[e].id).then((function(n){H.delete("/service/"+t[e].service.id).then((function(e){H.delete("/saloon/"+a).then((function(e){}))}))}))};for(var r in t)n(r)}))}}))))))}}]),t}(n.Component)),K=t(268),X=t(270),Y=t(269),Z=t(265),ee=t(267),ae=t(236),te=t(264),ne=t(266),re=t(271),le=Object(te.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",opacity:1,flexDirection:"column"},cardDone:{height:"100%",display:"flex",opacity:.4,flexDirection:"column"},cardMedia:{paddingTop:"0%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),ce=[1,2,3,4],oe=[!0,!1,!1,!1],ie=le,se=function(e){Object(m.a)(n,e);var a=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={reservas:[]},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.GetReservations()}},{key:"GetReservations",value:function(){var e=this;H.get("/reservation").then((function(a){var t=a.data,n=function(a){t[a].users.email==localStorage.getItem("user_email")&&e.setState((function(e){return{reservas:[].concat(Object(O.a)(e.reservas),[t[a]])}}))};for(var r in t)n(r)}))}},{key:"deleteReservation",value:function(e){H.delete("/reservation/"+e).then((function(e){console.log(e)})),window.location.reload(!1)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(Z.a,null),r.a.createElement("main",null,r.a.createElement("div",{className:ie.heroContent},r.a.createElement(ne.a,{maxWidth:"sm"},r.a.createElement(ae.a,{component:"h1",variant:"h4",align:"center",color:"textPrimary",gutterBottom:!0}),r.a.createElement(ae.a,{component:"h1",variant:"h4",align:"center",color:"textPrimary",gutterBottom:!0},"Minhas Reservas:"),r.a.createElement("div",{className:ie.heroButtons}))),r.a.createElement(ne.a,{className:ie.cardGrid,maxWidth:"md"},r.a.createElement(ee.a,{container:!0,spacing:4},this.state.reservas.map((function(a,n){return r.a.createElement(ee.a,{item:!0,key:n,xs:12,sm:6,md:3},r.a.createElement(K.a,{className:oe[ce.indexOf(n)]?ie.cardDone:ie.card},r.a.createElement(Y.a,{component:"img",className:ie.cardMedia,src:t(43),title:""}),r.a.createElement(X.a,{className:ie.cardContent},r.a.createElement(ae.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.service.saloon.name),r.a.createElement(ae.a,null,"Data: ",a.date),r.a.createElement(ae.a,null,"Hora: ",a.time),r.a.createElement(ae.a,null,"Servi\xe7o: ",a.service.name),r.a.createElement("div",null,r.a.createElement("h4",null),r.a.createElement(re.a,{onClick:function(t){return e.deleteReservation(a.id)},name:a.id,variant:"primary",size:"sm"},"DESMARCAR")))))}))))))}}]),n}(n.Component),me=t(19),ue=t.n(me),de=t(27),pe=t(61),he=t(62),ve=t(124),be=t.n(ve);function Ee(){var e=Object(pe.a)(["\n  width: 500px;\n  background: #fff;\n  padding: 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n  p {\n    color: #ff3433;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #80002f;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return Ee=function(){return e},e}function ge(){var e=Object(pe.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 87vh;\n  background-size: fill;\n  background-image: url(",");\n\n"]);return ge=function(){return e},e}var fe=he.a.div(ge(),be.a),ye=he.a.form(Ee()),Ce=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={email:"",password:"",error:""},e.handleSignIn=function(){var a=Object(de.a)(ue.a.mark((function a(t){var n,r,l;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),n=e.state,r=n.email,l=n.password,r&&l)try{b().then((function(a){0!=a.length?a.map((function(a){a.email==r&&a.password==l?(console.log("devia entrar"),localStorage.setItem("user_email",a.email),localStorage.setItem("user_type",a.type),e.props.history.push("/home/")):e.setState({error:"Houve um problema com o login, verifique suas credenciais...."})})):e.setState({error:"Houve um problema com o login, verifique suas credenciais...."})})).catch((function(e){console.log(e)}))}catch(c){e.setState({error:"Houve um problema com o login, verifique suas credenciais."})}else e.setState({error:"Preencha e-mail e senha para continuar!"});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(fe,null,r.a.createElement(ye,{onSubmit:this.handleSignIn},this.state.error&&r.a.createElement("p",null,this.state.error),r.a.createElement("h3",null,"P\xcaLO"),r.a.createElement("h3",null),r.a.createElement("input",{type:"email",placeholder:"Endere\xe7o de e-mail",onChange:function(a){return e.setState({email:a.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(a){return e.setState({password:a.target.value})}}),r.a.createElement("h5",null),r.a.createElement("button",{type:"submit"},"Entrar"),r.a.createElement("h5",null),r.a.createElement("hr",null),r.a.createElement("h5",null),r.a.createElement(o.b,{to:"/registarCliente"},"Criar conta como Cliente"),r.a.createElement("h5",null),r.a.createElement(o.b,{to:"/registar"},"Criar conta como Dono")))}}]),t}(n.Component),xe=Object(h.g)(Ce),Oe=t(70),je=t(41),Se=t(88),ke=t.n(Se),Ne=t(128),we=t.n(Ne);function _e(){var e=Object(pe.a)(["\nmin-height: 60vh;\nbackground: url(",") center/cover no-repeat;\ncover no-repeat;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n"]);return _e=function(){return e},e}var De=he.a.header(_e(),(function(e){return e.img?e.img:we.a})),Ie=t(71),Be=t.n(Ie),qe=(t(114),t(281)),Ae=t(282),Te=t(279),Fe=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).handleChangeDate=function(e){n.setState({startDate:e}),n.setState({isActive:!0})},n.handleSubmit=function(){var e=Object(de.a)(ue.a.mark((function e(a){var t,r,l,c,o,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,r=t.serv,l=t.hour,c=t.startDate,o=t.slug,a.preventDefault(),i=(i=c.toString().split(" "))[2]+" "+i[1]+" "+i[3],e.prev=4,console.log(r),console.log(i),console.log(l),console.log(o),e.next=11,H.get("/user/").then((function(e){var a,t=e.data;for(var n in t)for(var c in t[n])t[n].email===localStorage.getItem("user_email")&&(a=t[n]);H.get("/service/").then((function(e){var t=e.data;for(var n in t)t[n].id==parseInt(r)&&(console.log(t[n]),H.post("/reservation/",{date:i,time:l,users:a,services:t[n]}).then())}))}));case 11:return alert("Reserva efetuada!"),e.next=14,H.get("/schedule/").then((function(e){var a=e.data;for(var t in a)a[t].startTime==l&&a[t].service.id==parseInt(r)&&a[t].service.id==parseInt(r)&&console.log(a[t].id)}));case 14:n.props.history.push("/home"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(a){return e.apply(this,arguments)}}(),n.state={slug:parseInt(n.props.match.params.slug),defaultBcg:ke.a,servico:"",hour:"",isActive:!1,servicos:[],servicosName:[],horarios:[],serv:""},n.handleSubmit=n.handleSubmit.bind(Object(je.a)(n)),n.handleChangeService=n.handleChangeService.bind(Object(je.a)(n)),n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.GetServices()}},{key:"GetServices",value:function(){var e=this;H.get("/service/").then((function(a){e.setState({servicos:a.data});var t=[],n={},r=a.data;for(var l in r)r[l].saloon.id==parseInt(e.props.match.params.slug)&&(n.value=r[l].name,n.label=r[l].name,t.push(n),n={});e.setState({servicosName:t})}))}},{key:"handleChangeService",value:function(e){var a=this;this.setState({servico:e.target.value});var t=e.target.value;H.get("/schedule/").then((function(e){var n=e.data,r=[],l={};for(var c in n)n[c].service.saloon.id==parseInt(a.props.match.params.slug)&&t==n[c].service.name&&(a.setState({serv:n[c].service.id}),l.value=n[c].startTime,l.label=n[c].startTime,r.push(l),l={});a.setState({horarios:r})}))}}]),Object(s.a)(t,[{key:"render",value:function(){var e=this,a=(0,this.context.getBarbeiro)(this.state.slug);if(!a)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"Este cabeleireiro n\xe3o existe"),r.a.createElement(o.b,{to:"/cabeleireiros",className:"btn-primary"},"back to cabeleireiros"));var t=a.nome,n=a.cidade,l=a.descricao,c=a.imagens,i=a.morada,s=a.contacto,m=Object(Oe.a)(c),u=m[0];m.slice(1);return r.a.createElement(r.a.Fragment,null,"dono"==localStorage.getItem("user_type")?r.a.createElement(g,null):r.a.createElement(E,null),r.a.createElement(De,{img:u||this.state.defaultBcg},r.a.createElement(p,{title:"".concat(t),subtitle:"Fa\xe7a j\xe1 a sua marca\xe7\xe3o!"},r.a.createElement(o.b,{to:"/barbeiros",className:"btn-primary"},"voltar"))),r.a.createElement("section",{className:"single-cabeleireiro"},r.a.createElement("div",{className:"single-cabeleireiro-info"},r.a.createElement("article",{className:"desc"},r.a.createElement("h3",null,"detalhes"),r.a.createElement("p",null,l),r.a.createElement("p",null,"Contacto Telef\xf3nico: ",s),r.a.createElement("p",null,i),r.a.createElement("p",null,n)),r.a.createElement("article",{className:"info"}))),r.a.createElement("section",{className:"cabeleireiro-extras"},r.a.createElement("h3",null,"Servi\xe7os dispon\xedveis")),r.a.createElement("div",{className:"service_option"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Escolha o Servi\xe7o:",r.a.createElement("select",{name:"servico",value:this.state.servico,onChange:this.handleChangeService},this.state.servicosName.map((function(e,a){return r.a.createElement("option",{key:a,value:e.value},e.label)})))),r.a.createElement("label",null,"Escolha um Dia:",r.a.createElement(Be.a,{className:"calendar",selected:this.state.startDate,onChange:this.handleChangeDate,minDate:new Date,withPortal:!0})),r.a.createElement("div",null,this.state.isActive?r.a.createElement(qe.a,{component:"fieldset"},r.a.createElement("label",null,"Escolha uma HOra:",r.a.createElement(Ae.a,{"aria-label":"time",name:"hour",value:this.state.hour,onChange:function(a){return e.setState({hour:a.target.value})}},this.state.horarios.map((function(e,a){return r.a.createElement(U.a,{key:a,value:e.value,control:r.a.createElement(Te.a,null),label:e.label})}))))):null),r.a.createElement("div",{className:"reservar"},r.a.createElement("input",{type:"submit",value:"Reservar"})))),r.a.createElement("section",{className:"cabeleireiro-extras"}))}}]),t}(n.Component);Fe.contextType=k;var ze=function(e,a){return Object(O.a)(new Set(e.map((function(e){return e[a]}))))};function Pe(e){var a=e.cabeleireiros,t=Object(n.useContext)(k),l=t.handleChangeCabeleireiros,c=t.nome,o=t.cidade,i=ze(a,"nome");i=(i=["todos"].concat(Object(O.a)(i))).map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}));var s=ze(a,"cidade");return s=(s=["todas"].concat(Object(O.a)(s))).map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})),r.a.createElement("section",{className:"filter-container"},r.a.createElement(q,{title:"procure por nome ou cidade"}),r.a.createElement("form",{className:"filter-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome"),r.a.createElement("div",{className:"search-inputs"},r.a.createElement("input",{type:"String",name:"nome",id:"nome",value:c,onChange:l,className:"search-input"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cidade"},"cidade"),r.a.createElement("div",{className:"cidade-inputs"},r.a.createElement("input",{type:"String",name:"cidade",id:"cidade",value:o,onChange:l,className:"search-input"})))))}function Re(e){var a=e.cabeleireiro,n=a.id,l=a.nome,c=a.cidade;return r.a.createElement("article",{className:"cabeleireiro"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:t(43),alt:"single cabeleireiro"}),r.a.createElement("div",{className:"price-top"},r.a.createElement("h6",null,c)),r.a.createElement(o.b,{to:"/cabeleireiros/".concat(n),className:"btn-primary cabeleireiro-link"},"Ver")),r.a.createElement("p",{className:"cabeleireiro-info"},l))}function Ge(e){var a=e.cabeleireiros;return 0===a.length?r.a.createElement("div",{className:"empty-search"},r.a.createElement("h3",null,"N\xe3o existem cabeleireiros dispon\xedveis")):r.a.createElement("section",{className:"cabeleireiroslist"},r.a.createElement("div",{className:"cabeleireiroslist-center"},a.map((function(e){return r.a.createElement(Re,{key:e.id,cabeleireiro:e})}))))}var Me=_((function(e){var a=e.context,t=a.loading,n=a.sortedCabeleireiros,l=a.cabeleireiros;return t?r.a.createElement(B,null):r.a.createElement(r.a.Fragment,null,console.log(a),r.a.createElement(Pe,{cabeleireiros:l}),r.a.createElement(Ge,{cabeleireiros:n}))})),He=function(){return r.a.createElement(r.a.Fragment,null,"dono"==localStorage.getItem("user_type")?r.a.createElement(g,null):r.a.createElement(E,null),r.a.createElement(d,{hero:"cabeleireirosHero"},";",r.a.createElement(p,{title:"Cabeleireiros"})),r.a.createElement(Me,null))},We=t(274),Ue=t(278),Le=t(277),Ve=t(273),Je=t(275),Qe=t(276),$e=t(237),Ke=t(272),Xe=Object(te.a)((function(e){return{table:{minWidth:600},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},paper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"10px",height:"100%",width:"99%",marginTop:e.spacing(7)},link:{color:"rgba(0,0,0,0.65)",textDecoration:"none",marginLeft:"10%",alignSelf:"flex-start","&:hover":{color:"rgba(0,0,0,1)"}}}}));function Ye(){var e=Xe(),a=r.a.useState([]),t=Object(G.a)(a,2),n=t[0],l=t[1],c=r.a.useState(!0),i=Object(G.a)(c,2),s=i[0],m=i[1],u=!0;function d(){return(d=Object(de.a)(ue.a.mark((function e(){var a,t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/all");case 2:return a=e.sent,e.next=5,a.json();case 5:t=e.sent,l(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s&&(!function(){d.apply(this,arguments)}(),m(!1)),n.length>0&&(u=!1),r.a.createElement("div",{className:e.paper},r.a.createElement(ae.a,{component:"h1",variant:"h5"},"User"),u?r.a.createElement(Ke.a,null):r.a.createElement(Ve.a,{style:{width:"80%",margin:"0 10px"},component:$e.a},r.a.createElement(We.a,{className:e.table,"aria-label":"simple table"},r.a.createElement(Je.a,null,r.a.createElement(Qe.a,null,r.a.createElement(Le.a,{align:"center"},"Name"),r.a.createElement(Le.a,{align:"center"},"E-mail"),r.a.createElement(Le.a,{align:"center"},"Type"))),r.a.createElement(Ue.a,null,n.map((function(e){return r.a.createElement(Qe.a,{key:e.name},r.a.createElement(Le.a,{align:"center"},e.name),r.a.createElement(Le.a,{align:"center"},e.email),r.a.createElement(Le.a,{align:"center"},e.type))}))))),r.a.createElement(o.b,{className:e.link,to:"/"},r.a.createElement(ae.a,{align:"left"},"\u2190 Head back to save data")))}var Ze=t(131),ea=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={name:"",email:"",password:"",type:"dono",error:""},e.handleSignUp=function(){var a=Object(de.a)(ue.a.mark((function a(t){var n,r,l,c,o;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),n=e.state,r=n.name,l=n.email,c=n.password,o=n.type,r&&l&&c){a.next=6;break}e.setState({error:"Preencha todos os dados para se registar"}),a.next=16;break;case 6:return a.prev=6,a.next=9,H.post("/user/",{name:r,email:l,password:c,type:o});case 9:e.props.history.push("/"),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(6),console.log(a.t0),e.setState({error:"Ocorreu um erro ao registrar sua conta."});case 16:case"end":return a.stop()}}),a,null,[[6,12]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(fe,null,r.a.createElement(ye,{onSubmit:this.handleSignUp},this.state.error&&r.a.createElement("p",null,this.state.error),r.a.createElement("input",{type:"text",placeholder:"Nome",onChange:function(a){return e.setState({name:a.target.value})}}),r.a.createElement("input",{type:"email",placeholder:"Endere\xe7o de e-mail",onChange:function(a){return e.setState({email:a.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(a){return e.setState({password:a.target.value})}}),r.a.createElement("button",{type:"submit"},"Registar"),r.a.createElement("hr",null),r.a.createElement(o.b,{to:"/"},"Fazer login")))}}]),t}(n.Component),aa=Object(h.g)(ea),ta=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={name:"",email:"",password:"",type:"cliente",error:""},e.handleSignUp=function(){var a=Object(de.a)(ue.a.mark((function a(t){var n,r,l,c,o;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),n=e.state,r=n.name,l=n.email,c=n.password,o=n.type,r&&l&&c){a.next=6;break}e.setState({error:"Preencha todos os dados para se cadastrar"}),a.next=16;break;case 6:return a.prev=6,a.next=9,H.post("/user/",{name:r,email:l,password:c,type:o});case 9:e.props.history.push("/"),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(6),console.log(a.t0),e.setState({error:"Ocorreu um erro ao registrar sua conta. T.T"});case 16:case"end":return a.stop()}}),a,null,[[6,12]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(fe,null,r.a.createElement(ye,{onSubmit:this.handleSignUp},this.state.error&&r.a.createElement("p",null,this.state.error),r.a.createElement("input",{type:"text",placeholder:"Nome",onChange:function(a){return e.setState({name:a.target.value})}}),r.a.createElement("input",{type:"email",placeholder:"Endere\xe7o de e-mail",onChange:function(a){return e.setState({email:a.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(a){return e.setState({password:a.target.value})}}),r.a.createElement("button",{type:"submit"},"Registar"),r.a.createElement("hr",null),r.a.createElement(o.b,{to:"/"},"Fazer login")))}}]),t}(n.Component),na=Object(h.g)(ta),ra=Object(te.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",opacity:1,flexDirection:"column"},cardDone:{height:"100%",display:"flex",opacity:.4,flexDirection:"column"},cardMedia:{paddingTop:"0%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),la=[1,2,3,4],ca=[!0,!1,!1,!1],oa=ra,ia=function(e){Object(m.a)(n,e);var a=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={reservas:[]},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.GetReservations()}},{key:"GetReservations",value:function(){var e=this;H.get("/reservation").then((function(a){var t=a.data,n=function(a){t[a].services.saloon.owner.email==localStorage.getItem("user_email")&&e.setState((function(e){return{reservas:[].concat(Object(O.a)(e.reservas),[t[a]])}}))};for(var r in t)n(r)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(Z.a,null),r.a.createElement("main",null,r.a.createElement("div",{className:oa.heroContent},r.a.createElement(ne.a,{maxWidth:"sm"},r.a.createElement(ae.a,{component:"h5",variant:"h4",align:"center",color:"textPrimary",gutterBottom:!0}),r.a.createElement(ae.a,{component:"h1",variant:"h4",align:"center",color:"textPrimary",gutterBottom:!0},"A reservas efetuadas nos meus sal\xf5es:"),r.a.createElement("div",{className:oa.heroButtons}))),r.a.createElement(ne.a,{className:oa.cardGrid,maxWidth:"md"},r.a.createElement(ee.a,{container:!0,spacing:4},this.state.reservas.map((function(e,a){return r.a.createElement(ee.a,{item:!0,key:a,xs:12,sm:6,md:3},r.a.createElement(K.a,{className:ca[la.indexOf(a)]?oa.cardDone:oa.card},r.a.createElement(Y.a,{component:"img",className:oa.cardMedia,src:t(43),title:""}),r.a.createElement(X.a,{className:oa.cardContent},r.a.createElement(ae.a,{gutterBottom:!0,variant:"h6",component:"h6"},e.service.saloon.name),r.a.createElement(ae.a,null,"Data: ",e.date),r.a.createElement(ae.a,null,"Hora: ",e.time),r.a.createElement(ae.a,null,"Servi\xe7o: ",e.service.name),r.a.createElement(ae.a,null,"Cliente: ",e.users.name))))}))))))}}]),n}(n.Component),sa=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).handleChangeDate=function(e){n.setState({startDate:e}),n.setState({isActive:!0})},n.handleSubmit=function(){var e=Object(de.a)(ue.a.mark((function e(a){var t,r,l,c,o,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,r=t.serv,l=t.hour,c=t.startDate,o=t.slug,a.preventDefault(),i=(i=c.toString().split(" "))[2]+" "+i[1]+" "+i[3],e.prev=4,console.log(r),console.log(i),console.log(l),console.log(o),e.next=11,H.get("/user/").then((function(e){var a,t=e.data;for(var n in t)for(var c in t[n])t[n].email===localStorage.getItem("user_email")&&(a=t[n]);H.get("/service/").then((function(e){var t=e.data;for(var n in t)t[n].id==parseInt(r)&&(console.log(t[n]),H.post("/reservation/",{date:i,time:l,users:a,services:t[n]}).then())}))}));case 11:return alert("Reserva efetuada com sucesso!"),e.next=14,H.get("/schedule/").then((function(e){var a=e.data;for(var t in a)a[t].startTime==l&&a[t].service.id==parseInt(r)&&a[t].service.id==parseInt(r)&&console.log(a[t].id)}));case 14:n.props.history.push("/home"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(a){return e.apply(this,arguments)}}(),n.state={slug:parseInt(n.props.match.params.slug),defaultBcg:S.a,servico:"",hour:"",isActive:!1,servicos:[],servicosName:[],horarios:[],serv:""},n.handleSubmit=n.handleSubmit.bind(Object(je.a)(n)),n.handleChangeService=n.handleChangeService.bind(Object(je.a)(n)),n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.GetServices()}},{key:"GetServices",value:function(){var e=this;H.get("/service/").then((function(a){e.setState({servicos:a.data});var t=[],n={},r=a.data;for(var l in r)r[l].saloon.id==parseInt(e.props.match.params.slug)&&(n.value=r[l].name,n.label=r[l].name,t.push(n),n={});e.setState({servicosName:t})}))}},{key:"handleChangeService",value:function(e){var a=this;this.setState({servico:e.target.value});var t=e.target.value;H.get("/schedule/").then((function(e){var n=e.data,r=[],l={};for(var c in n)n[c].service.saloon.id==parseInt(a.props.match.params.slug)&&t==n[c].service.name&&(a.setState({serv:n[c].service.id}),l.value=n[c].startTime,l.label=n[c].startTime,r.push(l),l={});a.setState({horarios:r})}))}}]),Object(s.a)(t,[{key:"render",value:function(){var e=this,a=(0,this.context.getCabeleireiro)(this.state.slug);if(!a)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"Este cabeleireiro n\xe3o existe"),r.a.createElement(o.b,{to:"/cabeleireiros",className:"btn-primary"},"back to cabeleireiros"));var t=a.nome,n=a.cidade,l=a.descricao,c=a.imagens,i=a.morada,s=a.contacto,m=Object(Oe.a)(c),u=m[0];m.slice(1);return r.a.createElement(r.a.Fragment,null,"dono"==localStorage.getItem("user_type")?r.a.createElement(g,null):r.a.createElement(E,null),r.a.createElement(De,{img:u||this.state.defaultBcg},r.a.createElement(p,{title:"".concat(t),subtitle:"Fa\xe7a j\xe1 a sua marca\xe7\xe3o!"},r.a.createElement(o.b,{to:"/cabeleireiros",className:"btn-primary"},"voltar"))),r.a.createElement("section",{className:"single-cabeleireiro"},r.a.createElement("div",{className:"single-cabeleireiro-info"},r.a.createElement("article",{className:"desc"},r.a.createElement("h3",null,"detalhes"),r.a.createElement("p",null,l),r.a.createElement("p",null,"Contacto Telef\xf3nico: ",s),r.a.createElement("p",null,i),r.a.createElement("p",null,n)),r.a.createElement("article",{className:"info"}))),r.a.createElement("section",{className:"cabeleireiro-extras"},r.a.createElement("h3",null,"Servi\xe7os dispon\xedveis")),r.a.createElement("div",{className:"service_option"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Escolha o Servi\xe7o:",r.a.createElement("select",{name:"servico",value:this.state.servico,onChange:this.handleChangeService},this.state.servicosName.map((function(e,a){return r.a.createElement("option",{key:a,value:e.value},e.label)})))),r.a.createElement("label",null,"Escolha o Dia:",r.a.createElement(Be.a,{className:"calendar",selected:this.state.startDate,onChange:this.handleChangeDate,minDate:new Date,withPortal:!0})),r.a.createElement("div",null,this.state.isActive?r.a.createElement(qe.a,{component:"fieldset"},r.a.createElement("label",null,"Escolha a Hora:",r.a.createElement(Ae.a,{"aria-label":"time",name:"hour",value:this.state.hour,onChange:function(a){return e.setState({hour:a.target.value})}},this.state.horarios.map((function(e,a){return r.a.createElement(U.a,{key:a,value:e.value,control:r.a.createElement(Te.a,null),label:e.label})}))))):null),r.a.createElement("div",{className:"reservar"},r.a.createElement("input",{type:"submit",value:"Marcar"})))),r.a.createElement("section",{className:"cabeleireiro-extras"}))}}]),t}(n.Component);function ma(){return r.a.createElement(d,null,r.a.createElement(p,{title:"404",subtitle:"page not found"},r.a.createElement(o.b,{to:"/",className:"btn-primary"},"return home")))}sa.contextType=k;var ua=function(e){var a=e.component,t=Object(Ze.a)(e,["component"]);return r.a.createElement(h.b,Object.assign({},t,{render:function(e){return null!==localStorage.getItem("user_email")?r.a.createElement(a,e):r.a.createElement(h.a,{to:{pathname:"/",state:{from:e.location}}})}}))},da=function(){return r.a.createElement(o.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:xe}),r.a.createElement(h.b,{path:"/registarCliente",component:na}),r.a.createElement(h.b,{path:"/registar",component:aa}),r.a.createElement(ua,{exact:!0,path:"/cabeleireiros/",component:He}),r.a.createElement(ua,{exact:!0,path:"/cabeleireiros/:slug",component:sa}),r.a.createElement(ua,{exact:!0,path:"/barbeiros/",component:R}),r.a.createElement(ua,{exact:!0,path:"/barbeiros/:slug",component:Fe}),r.a.createElement(ua,{path:"/home/",component:y}),r.a.createElement(ua,{exact:!0,path:"/users/",component:Ye}),r.a.createElement(ua,{exact:!0,path:"/gestao/",component:$}),r.a.createElement(ua,{exact:!0,path:"/reservas/",component:se}),r.a.createElement(ua,{exact:!0,path:"/marcacoes/",component:ia}),r.a.createElement(h.b,{component:ma})))},pa=function(){return r.a.createElement(da,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,null,r.a.createElement(N,null,r.a.createElement(pa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},43:function(e,a,t){e.exports=t.p+"static/media/cabeleireiro1.be47fa91.jpg"},88:function(e,a,t){e.exports=t.p+"static/media/esta.15c0ed7d.jpg"}},[[145,1,2]]]);
//# sourceMappingURL=main.581a8f9c.chunk.js.map