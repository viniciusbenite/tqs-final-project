{"ast":null,"code":"import _regeneratorRuntime from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link,withRouter}from\"react-router-dom\";import getUsers from\"../services/auth\";import{Form,Container}from\"./styles\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:\"\",password:\"\",error:\"\"};_this.handleSignIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$state,email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,email=_this$state.email,password=_this$state.password;if(!email||!password){_this.setState({error:\"Preencha e-mail e senha para continuar!\"});}else{try{getUsers().then(function(data){if(data.length!=0){data.map(function(user){if(user.email==email&&user.password==password){console.log(\"devia entrar\");localStorage.setItem(\"user_email\",user.email);localStorage.setItem(\"user_type\",user.type);_this.props.history.push(\"/home/\");}else _this.setState({error:\"Houve um problema com o login, verifique suas credenciais....\"});});}else _this.setState({error:\"Houve um problema com o login, verifique suas credenciais....\"});}).catch(function(err){console.log(err);});}catch(err){_this.setState({error:\"Houve um problema com o login, verifique suas credenciais.\"});}}case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSignIn},this.state.error&&/*#__PURE__*/React.createElement(\"p\",null,this.state.error),/*#__PURE__*/React.createElement(\"h3\",null,\"P\\xCALO\"),/*#__PURE__*/React.createElement(\"h3\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"Endere\\xE7o de e-mail\",onChange:function onChange(e){return _this2.setState({email:e.target.value});}}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return _this2.setState({password:e.target.value});}}),/*#__PURE__*/React.createElement(\"h5\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Entrar\"),/*#__PURE__*/React.createElement(\"h5\",null),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"h5\",null),/*#__PURE__*/React.createElement(Link,{to:\"/registarCliente\"},\"Criar conta como Cliente\"),/*#__PURE__*/React.createElement(\"h5\",null),/*#__PURE__*/React.createElement(Link,{to:\"/registar\"},\"Criar conta como Dono\")));}}]);return Login;}(Component);export default withRouter(Login);","map":{"version":3,"sources":["/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/src/pages/Login.js"],"names":["React","Component","Link","withRouter","getUsers","Form","Container","Login","state","email","password","error","handleSignIn","e","preventDefault","setState","then","data","length","map","user","console","log","localStorage","setItem","type","props","history","push","catch","err","target","value"],"mappings":"umCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CAKA,OAASC,IAAT,CAAeC,SAAf,KAAgC,UAAhC,C,GAIMC,CAAAA,K,uTACJC,K,CAAQ,CACNC,KAAK,CAAE,EADD,CAENC,QAAQ,CAAE,EAFJ,CAGNC,KAAK,CAAE,EAHD,C,OAMRC,Y,0FAAe,iBAAMC,CAAN,iJACbA,CAAC,CAACC,cAAF,GADa,YAEe,MAAKN,KAFpB,CAELC,KAFK,aAELA,KAFK,CAEEC,QAFF,aAEEA,QAFF,CAGb,GAAI,CAACD,KAAD,EAAU,CAACC,QAAf,CAAyB,CACvB,MAAKK,QAAL,CAAc,CAAEJ,KAAK,CAAE,yCAAT,CAAd,EACD,CAFD,IAEO,CACL,GAAI,CAEFP,QAAQ,GAAGY,IAAX,CAAgB,SAAAC,IAAI,CAAI,CAEtB,GAAGA,IAAI,CAACC,MAAL,EAAa,CAAhB,CAAkB,CAElBD,IAAI,CAACE,GAAL,CAAS,SAAAC,IAAI,CAAI,CACf,GAAGA,IAAI,CAACX,KAAL,EAAYA,KAAZ,EAAqBW,IAAI,CAACV,QAAL,EAAeA,QAAvC,CAAiD,CAAEW,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA6BC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmCJ,IAAI,CAACX,KAAxC,EAAiDc,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCJ,IAAI,CAACK,IAAvC,EAA8C,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EAAoC,CAAnN,IACK,OAAKb,QAAL,CAAc,CACjBJ,KAAK,CACH,+DAFe,CAAd,EAIN,CAND,EAOD,CATC,IAUG,OAAKI,QAAL,CAAc,CACjBJ,KAAK,CACH,+DAFe,CAAd,EAKL,CAjBA,EAiBEkB,KAjBF,CAiBQ,SAACC,GAAD,CAAS,CAChBT,OAAO,CAACC,GAAR,CAAYQ,GAAZ,EAED,CApBA,EA2BD,CAAC,MAAOA,GAAP,CAAY,CACZ,MAAKf,QAAL,CAAc,CACZJ,KAAK,CACH,4DAFU,CAAd,EAID,CACF,CAzCY,sD,sIA6CN,iBAEP,mBACE,oBAAC,SAAD,mBACE,oBAAC,IAAD,EAAM,QAAQ,CAAE,KAAKC,YAArB,EAEG,KAAKJ,KAAL,CAAWG,KAAX,eAAoB,6BAAI,KAAKH,KAAL,CAAWG,KAAf,CAFvB,cAGE,wCAHF,cAIE,8BAJF,cAKE,6BACE,IAAI,CAAC,OADP,CAEE,WAAW,CAAC,uBAFd,CAGE,QAAQ,CAAE,kBAAAE,CAAC,QAAI,CAAA,MAAI,CAACE,QAAL,CAAc,CAAEN,KAAK,CAAEI,CAAC,CAACkB,MAAF,CAASC,KAAlB,CAAd,CAAJ,EAHb,EALF,cAUE,6BACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,QAAQ,CAAE,kBAAAnB,CAAC,QAAI,CAAA,MAAI,CAACE,QAAL,CAAc,CAAEL,QAAQ,CAAEG,CAAC,CAACkB,MAAF,CAASC,KAArB,CAAd,CAAJ,EAHb,EAVF,cAeE,8BAfF,cAgBE,8BAAQ,IAAI,CAAC,QAAb,WAhBF,cAiBE,8BAjBF,cAkBE,8BAlBF,cAmBE,8BAnBF,cAoBE,oBAAC,IAAD,EAAM,EAAE,CAAC,kBAAT,6BApBF,cAsBE,8BAtBF,cAuBE,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,0BAvBF,CADF,CADF,CA6BD,C,mBAnFiB/B,S,EAsFpB,cAAeE,CAAAA,UAAU,CAACI,KAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport getUsers from \"../services/auth\";\n\n\n\n\nimport { Form, Container } from \"./styles\";\n\n\n\nclass Login extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    error: \"\"\n  };\n\n  handleSignIn = async e => {\n    e.preventDefault();\n    const { email, password } = this.state;\n    if (!email || !password) {\n      this.setState({ error: \"Preencha e-mail e senha para continuar!\" });\n    } else {\n      try {\n\n        getUsers().then(data => {\n         \n          if(data.length!=0){\n    \n          data.map(user => {\n            if(user.email==email && user.password==password) { console.log(\"devia entrar\"); localStorage.setItem(\"user_email\", user.email) ; localStorage.setItem(\"user_type\", user.type); this.props.history.push(\"/home/\"); }\n            else this.setState({\n              error:\n                \"Houve um problema com o login, verifique suas credenciais....\"\n            });\n          })\n        }\n        else this.setState({\n          error:\n            \"Houve um problema com o login, verifique suas credenciais....\"\n        });\n\n       }).catch((err) => {\n         console.log(err);\n         \n       });\n        \n          \n            \n          \n      \n\n      } catch (err) {\n        this.setState({\n          error:\n            \"Houve um problema com o login, verifique suas credenciais.\"\n        });\n      }\n    }\n  };\n\n\n  render() {\n    \n    return (\n      <Container>\n        <Form onSubmit={this.handleSignIn}>\n          \n          {this.state.error && <p>{this.state.error}</p>}\n          <h3>PÊLO</h3>\n          <h3></h3>\n          <input\n            type=\"email\"\n            placeholder=\"Endereço de e-mail\"\n            onChange={e => this.setState({ email: e.target.value })}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={e => this.setState({ password: e.target.value })}\n          />\n          <h5></h5>\n          <button type=\"submit\">Entrar</button>\n          <h5></h5>\n          <hr />\n          <h5></h5>\n          <Link to=\"/registarCliente\">Criar conta como Cliente</Link>\n         \n          <h5></h5>\n          <Link to=\"/registar\">Criar conta como Dono</Link>\n        </Form>\n        </Container>\n    );\n  }\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}