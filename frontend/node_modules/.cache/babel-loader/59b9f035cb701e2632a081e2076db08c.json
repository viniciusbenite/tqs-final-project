{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaoc\\\\Desktop\\\\TQS\\\\tqs-final-project\\\\frontend\\\\src\\\\pages\\\\SingleCabeleireiro.js\";\nimport React, { Component } from 'react';\nimport defaultBcg from '../images/cabeleireiro1.jpg';\nimport Banner from '../components/Banner';\nimport { Link } from 'react-router-dom';\nimport { CabeleireirosContext } from '../context';\nimport StyledHero from '../components/StyledHero';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Radio from \"@material-ui/core/Radio\";\nimport NavbarCliente from \"../components/NavbarCliente\";\nimport NavbarDono from \"../components/NavbarDono\";\nimport api from \"../services/api\";\nexport default class SingleCabeleireiro extends Component {\n  getUsers() {\n    let list = {};\n    api.get('/user/').then(function (result) {\n      console.log(result.data); // as in all examples it works well here, but it is not very helpful\n\n      list = result.data; // LIST = , OR RETURN - no idea how to set list\n    });\n    console.log(list);\n    return list;\n  }\n\n  constructor(props) {\n    super(props); //console.log(defaultBcg)\n\n    this.state = {\n      isActive: false\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleChangeDate = date => {\n      this.setState({\n        startDate: date\n      });\n      this.setState({\n        isActive: true\n      });\n    };\n\n    this.handleSubmit = async event => {\n      const {\n        servico,\n        hour,\n        startDate\n      } = this.state;\n      event.preventDefault();\n\n      try {\n        console.log(servico);\n        console.log(startDate);\n        console.log(hour);\n        let serv = await api.post(\"/service/\", {\n          servico\n        });\n        let s = serv.data;\n        let data = this.getUsers();\n        let res = await api.post(\"/reservation/\", {\n          startDate,\n          hour,\n          s\n        });\n        alert(\"Reservation done!\");\n        this.props.history.push(\"/cabeleireiros/salao\");\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      slug: this.props.match.params.slug,\n      defaultBcg,\n      servico: \"\",\n      hour: \"\",\n      cabeleireiro: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  // componentDidMount() {}\n  render() {\n    const {\n      getCabeleireiro\n    } = this.context;\n    const cabeleireiro = getCabeleireiro(this.state.slug);\n\n    if (!cabeleireiro) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }\n      }, \"Este cabeleireiro n\\xE3o existe\"), /*#__PURE__*/React.createElement(Link, {\n        to: \"/cabeleireiros\",\n        className: \"btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, \"back to cabeleireiros\"));\n    }\n\n    const {\n      nome,\n      cidade,\n      descricao,\n      imagens\n    } = cabeleireiro;\n    const [mainImg, ...defaultImg] = imagens;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, localStorage.getItem(\"user_type\") == \"dono\" ? /*#__PURE__*/React.createElement(NavbarDono, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 54\n      }\n    }) : /*#__PURE__*/React.createElement(NavbarCliente, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 80\n      }\n    }), /*#__PURE__*/React.createElement(StyledHero, {\n      img: mainImg || this.state.defaultBcg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Banner, {\n      title: `${nome}`,\n      subtitle: \"Fa\\xE7a j\\xE1 a sua marca\\xE7\\xE3o!\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/cabeleireiros\",\n      className: \"btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \"voltar\"))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"single-cabeleireiro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"single-cabeleireiro-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"article\", {\n      className: \"desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, \"detalhes\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, descricao)), /*#__PURE__*/React.createElement(\"article\", {\n      className: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"cabeleireiro-extras\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, \"Servi\\xE7os dispon\\xEDveis\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"service_option\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, \"Pick your Service:\", /*#__PURE__*/React.createElement(\"select\", {\n      name: \"servico\",\n      value: this.state.servico,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"cortes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, \"Cortes - 5.90\\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"manicure_pedicure\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, \"Manicure e Pedicure - 7.99\\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"escovas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }, \"Escovas - 5.90\\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"tratamento_capilar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }, \"Tratamento Capilar - 7.99\\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"servi\\xE7os_especiais\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    }, \"Servi\\xE7os Especiais - 10.90\\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"depilacao\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, \"Depila\\xE7\\xE3o - 8.49\\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"maquilhagem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, \"Maquilhagem - 3.99\\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"quimicas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, \"Qu\\xEDmicas Em Geral - 11.99\\u20AC\"))), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, \"Choose an available day:\", /*#__PURE__*/React.createElement(DatePicker, {\n      className: \"calendar\",\n      selected: this.state.startDate,\n      onChange: this.handleChangeDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }, this.state.isActive ? /*#__PURE__*/React.createElement(FormControl, {\n      component: \"fieldset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, \"Select a available hour:\", /*#__PURE__*/React.createElement(RadioGroup, {\n      \"aria-label\": \"time\",\n      name: \"hour\",\n      value: this.state.hour,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"09:00:00\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 81\n        }\n      }),\n      label: \"09:00:00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"17:30:00\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 81\n        }\n      }),\n      label: \"17:30:00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"14:50:00\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 81\n        }\n      }),\n      label: \"14:50:00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 37\n      }\n    })))) : null), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"cabeleireiro-extras\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nSingleCabeleireiro.contextType = CabeleireirosContext;","map":{"version":3,"sources":["C:/Users/joaoc/Desktop/TQS/tqs-final-project/frontend/src/pages/SingleCabeleireiro.js"],"names":["React","Component","defaultBcg","Banner","Link","CabeleireirosContext","StyledHero","makeStyles","DatePicker","FormControlLabel","FormControl","FormLabel","RadioGroup","Radio","NavbarCliente","NavbarDono","api","SingleCabeleireiro","getUsers","list","get","then","result","console","log","data","constructor","props","state","isActive","handleChange","event","setState","target","name","value","handleChangeDate","date","startDate","handleSubmit","servico","hour","preventDefault","serv","post","s","res","alert","history","push","err","slug","match","params","cabeleireiro","bind","render","getCabeleireiro","context","nome","cidade","descricao","imagens","mainImg","defaultImg","localStorage","getItem","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport defaultBcg from '../images/cabeleireiro1.jpg';\r\nimport Banner from '../components/Banner';\r\nimport { Link } from 'react-router-dom';\r\nimport { CabeleireirosContext } from '../context';\r\nimport StyledHero from '../components/StyledHero';\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport NavbarCliente from \"../components/NavbarCliente\";\r\nimport NavbarDono from \"../components/NavbarDono\";\r\nimport api from \"../services/api\";\r\n\r\n\r\nexport default class SingleCabeleireiro extends Component {\r\n    state = {\r\n        isActive:false\r\n    }\r\n    handleChange = (event) =>{\r\n            this.setState({\r\n                [event.target.name]: event.target.value\r\n            })\r\n    }\r\n\r\n    handleChangeDate = date => {\r\n        this.setState({\r\n            startDate: date\r\n        });\r\n        this.setState({\r\n            isActive: true\r\n        })\r\n    };\r\n    getUsers() {\r\n\r\n        let list = {};\r\n\r\n        api.get('/user/').then(function (result) {\r\n\r\n            console.log(result.data); // as in all examples it works well here, but it is not very helpful\r\n\r\n            list = result.data; // LIST = , OR RETURN - no idea how to set list\r\n        });\r\n        console.log(list)\r\n        return list;\r\n    };\r\n    handleSubmit = async event => {\r\n        const { servico, hour, startDate } = this.state;\r\n        event.preventDefault();\r\n\r\n        try {\r\n            console.log(servico)\r\n            console.log(startDate)\r\n            console.log(hour)\r\n\r\n            let serv = await api.post(\"/service/\",{servico});\r\n            let s = serv.data;\r\n\r\n            let data=this.getUsers();\r\n            \r\n            let res = await api.post(\"/reservation/\",{startDate,hour,s} );\r\n            alert(\"Reservation done!\")\r\n            this.props.history.push(\"/cabeleireiros/salao\");\r\n          } catch (err) {\r\n            console.log(err);\r\n          }\r\n    }\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        //console.log(defaultBcg)\r\n        this.state = {\r\n            slug: this.props.match.params.slug,\r\n            defaultBcg,\r\n            servico: \"\",\r\n            hour: \"\",\r\n            cabeleireiro:\"\",\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    static contextType = CabeleireirosContext;\r\n\r\n   // componentDidMount() {}\r\n    render() {\r\n        const { getCabeleireiro } = this.context;\r\n        const cabeleireiro = getCabeleireiro(this.state.slug);\r\n        if (!cabeleireiro) {\r\n            return <div className=\"error\">\r\n                <h3>Este cabeleireiro não existe</h3>\r\n                <Link to='/cabeleireiros' className=\"btn-primary\">back to cabeleireiros</Link>\r\n                </div>\r\n        }\r\n        const {nome,\r\n          cidade,\r\n              descricao,\r\n\r\n              imagens} = cabeleireiro;\r\n\r\n        const [mainImg,...defaultImg] = imagens;\r\n        return(\r\n        <>\r\n        {localStorage.getItem(\"user_type\")==\"dono\" ? <NavbarDono></NavbarDono>:<NavbarCliente></NavbarCliente> }\r\n        <StyledHero img={mainImg ||\r\n          this.state.defaultBcg}>\r\n            <Banner title={`${nome}`} subtitle='Faça já a sua marcação!'>\r\n                <Link to=\"/cabeleireiros\" className=\"btn-primary\">\r\n                    voltar\r\n            </Link>\r\n            </Banner>\r\n        </StyledHero>\r\n\r\n            <section className=\"single-cabeleireiro\">\r\n                <div className=\"single-cabeleireiro-info\">\r\n                <article className=\"desc\">\r\n                <h3>detalhes</h3>\r\n                <p>{descricao}</p>\r\n                </article>\r\n                    <article className=\"info\">\r\n                    </article>\r\n                </div>\r\n          </section>\r\n        <section className=\"cabeleireiro-extras\">\r\n        <h6>Serviços disponíveis</h6>\r\n\r\n        </section>\r\n        <div className=\"service_option\">\r\n            <form onSubmit={this.handleSubmit}>\r\n                <label>\r\n                    Pick your Service:\r\n                    <select name=\"servico\" value={this.state.servico} onChange={this.handleChange}>\r\n                        <option value=\"cortes\">Cortes - 5.90€</option>\r\n                        <option value=\"manicure_pedicure\">Manicure e Pedicure - 7.99€</option>\r\n                        <option value=\"escovas\">Escovas - 5.90€</option>\r\n                        <option value=\"tratamento_capilar\">Tratamento Capilar - 7.99€</option>\r\n                        <option value=\"serviços_especiais\">Serviços Especiais - 10.90€</option>\r\n                        <option value=\"depilacao\">Depilação - 8.49€</option>\r\n                        <option value=\"maquilhagem\">Maquilhagem - 3.99€</option>\r\n                        <option value=\"quimicas\">Químicas Em Geral - 11.99€</option>\r\n                    </select>\r\n                </label>\r\n                <label>\r\n                    Choose an available day:\r\n                    <DatePicker className=\"calendar\"\r\n                                selected={this.state.startDate}\r\n                                onChange={this.handleChangeDate}\r\n                    />\r\n                </label>\r\n                <div>\r\n                    {this.state.isActive ?\r\n                        <FormControl component=\"fieldset\">\r\n                            <label>Select a available hour:\r\n                                <RadioGroup aria-label=\"time\" name=\"hour\" value={this.state.hour}\r\n                                            onChange={this.handleChange}>\r\n                                    <FormControlLabel value=\"09:00:00\" control={<Radio/>} label=\"09:00:00\"/>\r\n                                    <FormControlLabel value=\"17:30:00\" control={<Radio/>} label=\"17:30:00\"/>\r\n                                    <FormControlLabel value=\"14:50:00\" control={<Radio/>} label=\"14:50:00\"/>\r\n                                </RadioGroup>\r\n                            </label>\r\n                        </FormControl>\r\n                        : null}\r\n                </div>\r\n                <input type=\"submit\" value=\"Submit\" />\r\n            </form>\r\n        </div>\r\n        <section className=\"cabeleireiro-extras\">\r\n        </section>\r\n        </>\r\n      );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}