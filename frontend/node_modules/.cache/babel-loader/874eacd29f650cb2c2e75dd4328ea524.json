{"ast":null,"code":"import _objectSpread from\"/home/alina/Documents/tqs-final-project-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/home/alina/Documents/tqs-final-project-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/home/alina/Documents/tqs-final-project-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/alina/Documents/tqs-final-project-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alina/Documents/tqs-final-project-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/alina/Documents/tqs-final-project-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/alina/Documents/tqs-final-project-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import getSaloes from'./data';var CabeleireirosContext=React.createContext();var CabeleireirosProvider=/*#__PURE__*/function(_Component){_inherits(CabeleireirosProvider,_Component);var _super=_createSuper(CabeleireirosProvider);function CabeleireirosProvider(){var _this;_classCallCheck(this,CabeleireirosProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={cabeleireiros:[],sortedCabeleireiros:[],barbeiros:[],sortedBarbeiros:[],loading:true,nome:\"\",cidade:\"\"};_this.getCabeleireiro=function(id){var tempCabeleireiros=_toConsumableArray(_this.state.cabeleireiros);var cabeleireiro=tempCabeleireiros.find(function(cabeleireiro){return cabeleireiro.id===id;});return cabeleireiro;};_this.getBarbeiro=function(id){var tempBarbeiros=_toConsumableArray(_this.state.barbeiros);var barbeiro=tempBarbeiros.find(function(barbeiro){return barbeiro.id===id;});return barbeiro;};_this.handleChangeCabeleireiros=function(event){var target=event.target;var value=target.nome==='checkbox'?target.checked:target.value;var name=event.target.name;_this.setState(_defineProperty({},name,value),_this.filterCabeleireiros);};_this.handleChangeBarbeiros=function(event){var target=event.target;var value=target.nome==='checkbox'?target.checked:target.value;var name=event.target.name;_this.setState(_defineProperty({},name,value),_this.filterBarbeiros);};_this.filterBarbeiros=function(){var _this$state=_this.state,barbeiros=_this$state.barbeiros,nome=_this$state.nome,cidade=_this$state.cidade;// all the cabeleireiros\nvar tempBarbeiros=_toConsumableArray(barbeiros);// filter by nome \nif(nome!==\"\"){tempBarbeiros=tempBarbeiros.filter(function(barbeiro){return barbeiro.nome===nome;});}// filter by cidade\nif(cidade!==\"\"){tempBarbeiros=tempBarbeiros.filter(function(barbeiro){return barbeiro.cidade===cidade;});}// change state \n_this.setState({sortedBarbeiros:tempBarbeiros});};_this.filterCabeleireiros=function(){var _this$state2=_this.state,cabeleireiros=_this$state2.cabeleireiros,nome=_this$state2.nome,cidade=_this$state2.cidade;// all the cabeleireiros\nvar tempCabeleireiros=_toConsumableArray(cabeleireiros);// filter by nome \nif(nome!==\"\"){tempCabeleireiros=tempCabeleireiros.filter(function(cabeleireiro){return cabeleireiro.nome===nome;});}// filter by cidade\nif(cidade!==\"\"){tempCabeleireiros=tempCabeleireiros.filter(function(cabeleireiro){return cabeleireiro.cidade===cidade;});}// change state \n_this.setState({sortedCabeleireiros:tempCabeleireiros});};return _this;}_createClass(CabeleireirosProvider,[{key:\"componentDidMount\",// getData\nvalue:function componentDidMount(){var _this2=this;var cabeleireiros=[];var barbeiros=[];getSaloes().then(function(data){cabeleireiros=_this2.formatDataCabeleireiros(data);barbeiros=_this2.formatDataBarbeiros(data);_this2.setState({cabeleireiros:cabeleireiros,barbeiros:barbeiros,sortedBarbeiros:barbeiros,sortedCabeleireiros:cabeleireiros,loading:false});});}},{key:\"formatDataCabeleireiros\",value:function formatDataCabeleireiros(items){var tempItems=[];items.map(function(item){var id=item.id;var nome=item.name;var cidade=item.city;var descricao=item.description;var morada=item.address;var imagens=[item.image];var type=item.type;var contacto=item.contact;var cabeleireiro={nome:nome,morada:morada,descricao:descricao,cidade:cidade,type:type,imagens:imagens,id:id,contacto:contacto};if(type==\"Cabeleireiro\")tempItems.push(cabeleireiro);});return tempItems;}},{key:\"formatDataBarbeiros\",value:function formatDataBarbeiros(items){var tempItems=[];items.map(function(item){var id=item.id;var nome=item.name;var cidade=item.city;var descricao=item.description;var morada=item.address;var imagens=[item.image];var type=item.type;var barbeiro={nome:nome,morada:morada,descricao:descricao,cidade:cidade,type:type,imagens:imagens,id:id};if(type==\"Barbeiro\")tempItems.push(barbeiro);});return tempItems;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(CabeleireirosContext.Provider,{value:_objectSpread(_objectSpread({},this.state),{},{getCabeleireiro:this.getCabeleireiro,handleChangeCabeleireiros:this.handleChangeCabeleireiros,getBarbeiro:this.getBarbeiro,handleChangeBarbeiros:this.handleChangeBarbeiros})},this.props.children);}}]);return CabeleireirosProvider;}(Component);var CabeleireirosConsumer=CabeleireirosContext.Consumer;export function withCabeleireirosConsumer(Component){return function ConsumerWrapper(props){return/*#__PURE__*/React.createElement(CabeleireirosConsumer,null,function(value){return/*#__PURE__*/React.createElement(Component,Object.assign({},props,{context:value}));});};}export{CabeleireirosProvider,CabeleireirosConsumer,CabeleireirosContext};","map":{"version":3,"sources":["/home/alina/Documents/tqs-final-project-frontend/frontend/src/context.js"],"names":["React","Component","getSaloes","CabeleireirosContext","createContext","CabeleireirosProvider","state","cabeleireiros","sortedCabeleireiros","barbeiros","sortedBarbeiros","loading","nome","cidade","getCabeleireiro","id","tempCabeleireiros","cabeleireiro","find","getBarbeiro","tempBarbeiros","barbeiro","handleChangeCabeleireiros","event","target","value","checked","name","setState","filterCabeleireiros","handleChangeBarbeiros","filterBarbeiros","filter","then","data","formatDataCabeleireiros","formatDataBarbeiros","items","tempItems","map","item","city","descricao","description","morada","address","imagens","image","type","contacto","contact","push","props","children","CabeleireirosConsumer","Consumer","withCabeleireirosConsumer","ConsumerWrapper"],"mappings":"ysCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,QAAtB,CAGA,GAAMC,CAAAA,oBAAoB,CAAGH,KAAK,CAACI,aAAN,EAA7B,C,GAEMC,CAAAA,qB,uXAEFC,K,CAAQ,CACJC,aAAa,CAAE,EADX,CAEJC,mBAAmB,CAAE,EAFjB,CAGJC,SAAS,CAAC,EAHN,CAIJC,eAAe,CAAC,EAJZ,CAMJC,OAAO,CAAE,IANL,CAOJC,IAAI,CAAC,EAPD,CAQJC,MAAM,CAAC,EARH,C,OAqFRC,e,CAAkB,SAACC,EAAD,CAAQ,CACtB,GAAIC,CAAAA,iBAAiB,oBAAO,MAAKV,KAAL,CAAWC,aAAlB,CAArB,CACA,GAAMU,CAAAA,YAAY,CAAGD,iBAAiB,CAACE,IAAlB,CAAuB,SAAAD,YAAY,QAAIA,CAAAA,YAAY,CAACF,EAAb,GAAoBA,EAAxB,EAAnC,CAArB,CACA,MAAOE,CAAAA,YAAP,CACH,C,OAGDE,W,CAAc,SAACJ,EAAD,CAAQ,CAClB,GAAIK,CAAAA,aAAa,oBAAO,MAAKd,KAAL,CAAWG,SAAlB,CAAjB,CACA,GAAMY,CAAAA,QAAQ,CAAGD,aAAa,CAACF,IAAd,CAAmB,SAAAG,QAAQ,QAAIA,CAAAA,QAAQ,CAACN,EAAT,GAAgBA,EAApB,EAA3B,CAAjB,CACA,MAAOM,CAAAA,QAAP,CACH,C,OAELC,yB,CAA4B,SAAAC,KAAK,CAAI,CACjC,GAAMC,CAAAA,MAAM,CAAGD,KAAK,CAACC,MAArB,CACA,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACZ,IAAP,GAAgB,UAAhB,CACdY,MAAM,CAACE,OADO,CACGF,MAAM,CAACC,KADxB,CAEA,GAAME,CAAAA,IAAI,CAAGJ,KAAK,CAACC,MAAN,CAAaG,IAA1B,CACD,MAAKC,QAAL,oBACID,IADJ,CACWF,KADX,EAGC,MAAKI,mBAHN,EAKF,C,OAGGC,qB,CAAwB,SAAAP,KAAK,CAAI,CAC7B,GAAMC,CAAAA,MAAM,CAAGD,KAAK,CAACC,MAArB,CACA,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACZ,IAAP,GAAgB,UAAhB,CACdY,MAAM,CAACE,OADO,CACGF,MAAM,CAACC,KADxB,CAEA,GAAME,CAAAA,IAAI,CAAGJ,KAAK,CAACC,MAAN,CAAaG,IAA1B,CACJ,MAAKC,QAAL,oBACKD,IADL,CACYF,KADZ,EAGI,MAAKM,eAHT,EAKC,C,OAGDA,e,CAAkB,UAAM,iBAKhB,MAAKzB,KALW,CAEhBG,SAFgB,aAEhBA,SAFgB,CAGhBG,IAHgB,aAGhBA,IAHgB,CAIhBC,MAJgB,aAIhBA,MAJgB,CAOxB;AACA,GAAIO,CAAAA,aAAa,oBAAOX,SAAP,CAAjB,CAGA;AAEA,GAAGG,IAAI,GAAK,EAAZ,CAAgB,CACZQ,aAAa,CAAGA,aAAa,CAACY,MAAd,CAAqB,SAAAX,QAAQ,QAAIA,CAAAA,QAAQ,CAACT,IAAT,GACjDA,IAD6C,EAA7B,CAAhB,CAEH,CAID;AACA,GAAGC,MAAM,GAAK,EAAd,CAAkB,CACdO,aAAa,CAAGA,aAAa,CAACY,MAAd,CAAqB,SAAAX,QAAQ,QAAIA,CAAAA,QAAQ,CAACR,MAAT,GACjDA,MAD6C,EAA7B,CAAhB,CAEH,CAID;AACA,MAAKe,QAAL,CAAc,CACVlB,eAAe,CAACU,aADN,CAAd,EAGC,C,OAIDS,mB,CAAsB,UAAM,kBAKpB,MAAKvB,KALe,CAEpBC,aAFoB,cAEpBA,aAFoB,CAGpBK,IAHoB,cAGpBA,IAHoB,CAIpBC,MAJoB,cAIpBA,MAJoB,CAO5B;AACA,GAAIG,CAAAA,iBAAiB,oBAAOT,aAAP,CAArB,CAGA;AAEA,GAAGK,IAAI,GAAK,EAAZ,CAAgB,CACZI,iBAAiB,CAAGA,iBAAiB,CAACgB,MAAlB,CAAyB,SAAAf,YAAY,QAAIA,CAAAA,YAAY,CAACL,IAAb,GAC7DA,IADyD,EAArC,CAApB,CAEH,CAID;AACA,GAAGC,MAAM,GAAK,EAAd,CAAkB,CACdG,iBAAiB,CAAGA,iBAAiB,CAACgB,MAAlB,CAAyB,SAAAf,YAAY,QAAIA,CAAAA,YAAY,CAACJ,MAAb,GAC7DA,MADyD,EAArC,CAApB,CAEH,CAID;AACA,MAAKe,QAAL,CAAc,CACVpB,mBAAmB,CAACQ,iBADV,CAAd,EAGC,C,4EAtLD;kCAEoB,iBAEhB,GAAIT,CAAAA,aAAa,CAAC,EAAlB,CACA,GAAIE,CAAAA,SAAS,CAAC,EAAd,CAGAP,SAAS,GAAG+B,IAAZ,CAAiB,SAAAC,IAAI,CAAI,CAEzB3B,aAAa,CAAG,MAAI,CAAC4B,uBAAL,CAA6BD,IAA7B,CAAhB,CACAzB,SAAS,CAAG,MAAI,CAAC2B,mBAAL,CAAyBF,IAAzB,CAAZ,CAEA,MAAI,CAACN,QAAL,CAAc,CACVrB,aAAa,CAACA,aADJ,CAEVE,SAAS,CAACA,SAFA,CAGVC,eAAe,CAACD,SAHN,CAKVD,mBAAmB,CAAED,aALX,CAMVI,OAAO,CAAE,KANC,CAAd,EASC,CAdD,EAeH,C,wEAEuB0B,K,CAAO,CAE3B,GAAIC,CAAAA,SAAS,CAAC,EAAd,CAEAD,KAAK,CAACE,GAAN,CAAU,SAAAC,IAAI,CAAI,CACd,GAAIzB,CAAAA,EAAE,CAAGyB,IAAI,CAACzB,EAAd,CACA,GAAIH,CAAAA,IAAI,CAAG4B,IAAI,CAACb,IAAhB,CACA,GAAId,CAAAA,MAAM,CAAG2B,IAAI,CAACC,IAAlB,CACA,GAAIC,CAAAA,SAAS,CAACF,IAAI,CAACG,WAAnB,CACA,GAAIC,CAAAA,MAAM,CAACJ,IAAI,CAACK,OAAhB,CACA,GAAIC,CAAAA,OAAO,CAAG,CAACN,IAAI,CAACO,KAAN,CAAd,CACA,GAAIC,CAAAA,IAAI,CAAGR,IAAI,CAACQ,IAAhB,CACA,GAAIC,CAAAA,QAAQ,CAACT,IAAI,CAACU,OAAlB,CAEA,GAAIjC,CAAAA,YAAY,CAAG,CAACL,IAAI,CAAJA,IAAD,CAAMgC,MAAM,CAANA,MAAN,CAAaF,SAAS,CAATA,SAAb,CAAuB7B,MAAM,CAANA,MAAvB,CAA8BmC,IAAI,CAAJA,IAA9B,CAAmCF,OAAO,CAAPA,OAAnC,CAA2C/B,EAAE,CAAFA,EAA3C,CAA+CkC,QAAQ,CAARA,QAA/C,CAAnB,CACA,GAAGD,IAAI,EAAE,cAAT,CAAyBV,SAAS,CAACa,IAAV,CAAelC,YAAf,EAE5B,CAbD,EAkBA,MAAOqB,CAAAA,SAAP,CACH,C,gEAEmBD,K,CAAO,CAEvB,GAAIC,CAAAA,SAAS,CAAC,EAAd,CAEAD,KAAK,CAACE,GAAN,CAAU,SAAAC,IAAI,CAAI,CACd,GAAIzB,CAAAA,EAAE,CAAGyB,IAAI,CAACzB,EAAd,CACA,GAAIH,CAAAA,IAAI,CAAG4B,IAAI,CAACb,IAAhB,CACA,GAAId,CAAAA,MAAM,CAAG2B,IAAI,CAACC,IAAlB,CACA,GAAIC,CAAAA,SAAS,CAACF,IAAI,CAACG,WAAnB,CACA,GAAIC,CAAAA,MAAM,CAACJ,IAAI,CAACK,OAAhB,CACA,GAAIC,CAAAA,OAAO,CAAG,CAACN,IAAI,CAACO,KAAN,CAAd,CACA,GAAIC,CAAAA,IAAI,CAAGR,IAAI,CAACQ,IAAhB,CAEA,GAAI3B,CAAAA,QAAQ,CAAG,CAACT,IAAI,CAAJA,IAAD,CAAMgC,MAAM,CAANA,MAAN,CAAaF,SAAS,CAATA,SAAb,CAAuB7B,MAAM,CAANA,MAAvB,CAA8BmC,IAAI,CAAJA,IAA9B,CAAmCF,OAAO,CAAPA,OAAnC,CAA2C/B,EAAE,CAAFA,EAA3C,CAAf,CACA,GAAGiC,IAAI,EAAE,UAAT,CAAqBV,SAAS,CAACa,IAAV,CAAe9B,QAAf,EAExB,CAZD,EAiBA,MAAOiB,CAAAA,SAAP,CACH,C,uCAkHQ,CACL,mBACA,oBAAC,oBAAD,CAAsB,QAAtB,EACA,KAAK,gCACE,KAAKhC,KADP,MAEDQ,eAAe,CAAE,KAAKA,eAFrB,CAGDQ,yBAAyB,CAAE,KAAKA,yBAH/B,CAIDH,WAAW,CAAE,KAAKA,WAJjB,CAKDW,qBAAqB,CAAE,KAAKA,qBAL3B,EADL,EAQK,KAAKsB,KAAL,CAAWC,QARhB,CADA,CAaH,C,mCApN+BpD,S,EAwNpC,GAAMqD,CAAAA,qBAAqB,CAAGnD,oBAAoB,CAACoD,QAAnD,CACA,MAAO,SAASC,CAAAA,yBAAT,CAAmCvD,SAAnC,CAA6C,CAChD,MAAO,SAASwD,CAAAA,eAAT,CAAyBL,KAAzB,CAA+B,CAClC,mBAAO,oBAAC,qBAAD,MACF,SAAA3B,KAAK,qBAAI,oBAAC,SAAD,kBAAe2B,KAAf,EAAsB,OAAO,CAAE3B,KAA/B,GAAJ,EADH,CAAP,CAGH,CAJD,CAKH,CAED,OAASpB,qBAAT,CAAgCiD,qBAAhC,CAAuDnD,oBAAvD","sourcesContent":["import React, { Component } from 'react';\nimport getSaloes from './data';\n\n\nconst CabeleireirosContext = React.createContext();\n\nclass CabeleireirosProvider extends Component {\n\n    state = {\n        cabeleireiros: [],\n        sortedCabeleireiros: [],\n        barbeiros:[],\n        sortedBarbeiros:[],\n        \n        loading: true,\n        nome:\"\",\n        cidade:\"\",\n    };\n    // getData\n\n    componentDidMount() {\n\n        var cabeleireiros=[];\n        var barbeiros=[];\n\n\n        getSaloes().then(data => {\n\n        cabeleireiros = this.formatDataCabeleireiros(data);\n        barbeiros = this.formatDataBarbeiros(data);\n\n        this.setState({\n            cabeleireiros:cabeleireiros,\n            barbeiros:barbeiros,\n            sortedBarbeiros:barbeiros,\n            \n            sortedCabeleireiros: cabeleireiros,\n            loading: false,\n            \n        });\n        });\n    }\n\n    formatDataCabeleireiros(items) {\n\n        let tempItems=[];\n        \n        items.map(item => {\n            let id = item.id;\n            let nome = item.name;\n            let cidade = item.city;\n            let descricao=item.description;\n            let morada=item.address;\n            let imagens = [item.image];\n            let type = item.type;\n            let contacto=item.contact;\n\n            let cabeleireiro = {nome,morada,descricao,cidade,type,imagens,id ,contacto}\n            if(type==\"Cabeleireiro\") tempItems.push(cabeleireiro); \n            \n        });\n       \n       \n       \n      \n        return tempItems\n    }\n\n    formatDataBarbeiros(items) {\n\n        let tempItems=[];\n    \n        items.map(item => {\n            let id = item.id;\n            let nome = item.name;\n            let cidade = item.city;\n            let descricao=item.description;\n            let morada=item.address;\n            let imagens = [item.image];\n            let type = item.type;\n\n            let barbeiro = {nome,morada,descricao,cidade,type,imagens,id }\n            if(type==\"Barbeiro\") tempItems.push(barbeiro); \n            \n        });\n\n\n\n\n        return tempItems\n    }\n\n\n    getCabeleireiro = (id) => {\n        let tempCabeleireiros = [...this.state.cabeleireiros];\n        const cabeleireiro = tempCabeleireiros.find(cabeleireiro => cabeleireiro.id === id);\n        return cabeleireiro;\n    };\n\n\n    getBarbeiro = (id) => {\n        let tempBarbeiros = [...this.state.barbeiros];\n        const barbeiro = tempBarbeiros.find(barbeiro => barbeiro.id === id);\n        return barbeiro;\n    };\n\nhandleChangeCabeleireiros = event => {\n    const target = event.target;\n    const value = target.nome === 'checkbox' ?\n    target.checked : target.value;\n    const name = event.target.name;\n   this.setState({\n      [name] :value \n   },\n    this.filterCabeleireiros\n    );\n};\n\n\n    handleChangeBarbeiros = event => {\n        const target = event.target;\n        const value = target.nome === 'checkbox' ?\n        target.checked : target.value;\n        const name = event.target.name;\n    this.setState({\n        [name] :value \n    },\n        this.filterBarbeiros\n        );\n    };\n\n\n    filterBarbeiros = () => {\n        let{\n            barbeiros, \n            nome,\n            cidade,\n        } = this.state\n\n    // all the cabeleireiros\n    let tempBarbeiros = [...barbeiros];\n\n\n    // filter by nome \n\n    if(nome !== \"\") {\n        tempBarbeiros = tempBarbeiros.filter(barbeiro => barbeiro.nome ===\n        nome);\n    }\n\n\n\n    // filter by cidade\n    if(cidade !== \"\") {\n        tempBarbeiros = tempBarbeiros.filter(barbeiro => barbeiro.cidade ===\n        cidade);\n    }\n\n\n\n    // change state \n    this.setState({\n        sortedBarbeiros:tempBarbeiros\n    })\n    };\n\n\n\n    filterCabeleireiros = () => {\n        let{\n            cabeleireiros, \n            nome,\n            cidade,\n        } = this.state\n    \n    // all the cabeleireiros\n    let tempCabeleireiros = [...cabeleireiros];\n    \n    \n    // filter by nome \n    \n    if(nome !== \"\") {\n        tempCabeleireiros = tempCabeleireiros.filter(cabeleireiro => cabeleireiro.nome ===\n        nome);\n    }\n    \n    \n    \n    // filter by cidade\n    if(cidade !== \"\") {\n        tempCabeleireiros = tempCabeleireiros.filter(cabeleireiro => cabeleireiro.cidade ===\n        cidade);\n    }\n    \n    \n    \n    // change state \n    this.setState({\n        sortedCabeleireiros:tempCabeleireiros\n    })\n    };\n    \n\n\n    render() {\n        return (\n        <CabeleireirosContext.Provider \n        value={{\n            ...this.state,\n            getCabeleireiro: this.getCabeleireiro,\n            handleChangeCabeleireiros: this.handleChangeCabeleireiros,\n            getBarbeiro: this.getBarbeiro,\n            handleChangeBarbeiros: this.handleChangeBarbeiros,\n            }}>\n            {this.props.children}\n        </CabeleireirosContext.Provider>\n            \n         );\n    }\n  }\n\n\nconst CabeleireirosConsumer = CabeleireirosContext.Consumer;\nexport function withCabeleireirosConsumer(Component){\n    return function ConsumerWrapper(props){\n        return <CabeleireirosConsumer>\n            {value => <Component {...props} context={value} />}\n        </CabeleireirosConsumer>\n    }\n}\n\nexport { CabeleireirosProvider, CabeleireirosConsumer, CabeleireirosContext };"]},"metadata":{},"sourceType":"module"}