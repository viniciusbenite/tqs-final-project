{"ast":null,"code":"var _jsxFileName = \"/home/alina/Desktop/tqs-final-project/frontend/src/pages/Login.js\";\nimport React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { login } from \"../../services/auth\";\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Form, Container } from \"./styles\";\n\nfunction Login() {\n  state = {\n    email: \"\",\n    password: \"\",\n    error: \"\"\n  };\n\n  handleSignIn = async e => {\n    e.preventDefault();\n    const {\n      email,\n      password\n    } = this.state;\n\n    if (!email || !password) {\n      this.setState({\n        error: \"Preencha e-mail e senha para continuar!\"\n      });\n    } else {\n      try {\n        const response = await api.post(\"/sessions\", {\n          email,\n          password\n        });\n        login(response.data.token);\n        this.props.history.push(\"/app\");\n      } catch (err) {\n        this.setState({\n          error: \"Houve um problema com o login, verifique suas credenciais. T.T\"\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, 'Login © ', /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"Reservas    \"), ' ', new Date().getFullYear(), '.');\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100vh'\n  },\n  image: {\n    backgroundImage: 'url(https://barbeiroempreendedor.com/wp-content/uploads/2019/04/Como-transformar-uma-barbearia-simples-em-uma-barber-shop.png)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1)\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\nexport default function SignInSide() {\n  const classes = useStyles();\n  const [data, upDateData] = React.useState([]);\n  const [firstLoad, setLoad] = React.useState(true);\n  let isLoading = true;\n\n  async function sampleFunc() {\n    let response = await fetch(\"/user/all\");\n    let body = await response.json();\n    upDateData(body);\n  }\n\n  if (firstLoad) {\n    sampleFunc();\n    setLoad(false);\n  }\n\n  if (data.length > 0) isLoading = false;\n\n  function handleSubmit(event) {}\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: this.handleSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    alt: \"Airbnb logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), this.state.error && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 32\n    }\n  }, this.state.error), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Endere\\xE7o de e-mail\",\n    onChange: e => this.setState({\n      email: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Senha\",\n    onChange: e => this.setState({\n      password: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, \"Entrar\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"Criar conta gr\\xE1tis\")));\n}","map":{"version":3,"sources":["/home/alina/Desktop/tqs-final-project/frontend/src/pages/Login.js"],"names":["React","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Paper","Box","Grid","login","LockOutlinedIcon","Typography","makeStyles","Form","Container","Login","state","email","password","error","handleSignIn","e","preventDefault","setState","response","api","post","data","token","props","history","push","err","Date","getFullYear","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","form","width","marginTop","submit","SignInSide","classes","upDateData","useState","firstLoad","setLoad","isLoading","sampleFunc","fetch","body","json","length","handleSubmit","event","Logo","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { login } from \"../../services/auth\"\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Form, Container } from \"./styles\";\n\nfunction Login() {\n  state = {\n    email: \"\",\n    password: \"\",\n    error: \"\"\n  };\n\n  handleSignIn = async e => {\n    e.preventDefault();\n    const { email, password } = this.state;\n    if (!email || !password) {\n      this.setState({ error: \"Preencha e-mail e senha para continuar!\" });\n    } else {\n      try {\n        const response = await api.post(\"/sessions\", { email, password });\n        login(response.data.token);\n        this.props.history.push(\"/app\");\n      } catch (err) {\n        this.setState({\n          error:\n            \"Houve um problema com o login, verifique suas credenciais. T.T\"\n        });\n      }\n    }\n  };\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Login © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Reservas    </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: 'url(https://barbeiroempreendedor.com/wp-content/uploads/2019/04/Como-transformar-uma-barbearia-simples-em-uma-barber-shop.png)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n   \n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide() {\n  const classes = useStyles();\n  const [data, upDateData] = React.useState([]);\n    const [firstLoad, setLoad] = React.useState(true);\n    let isLoading = true;\n  \n    async function sampleFunc() {\n      let response = await fetch(\"/user/all\");\n      let body = await response.json();\n      upDateData(body);\n    }\n  \n    if (firstLoad) {\n      sampleFunc();\n      setLoad(false);\n    }\n  \n    if (data.length > 0) isLoading = false;\n\n    \n\n    function handleSubmit(event) {\n   \n    \n  }\n\n  return (\n    <Container>\n        <Form onSubmit={this.handleSignIn}>\n          <img src={Logo} alt=\"Airbnb logo\" />\n          {this.state.error && <p>{this.state.error}</p>}\n          <input\n            type=\"email\"\n            placeholder=\"Endereço de e-mail\"\n            onChange={e => this.setState({ email: e.target.value })}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Senha\"\n            onChange={e => this.setState({ password: e.target.value })}\n          />\n          <button type=\"submit\">Entrar</button>\n          <hr />\n          <Link to=\"/signup\">Criar conta grátis</Link>\n        </Form>\n      </Container>\n  );\n}"]},"metadata":{},"sourceType":"module"}