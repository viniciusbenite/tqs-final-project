{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaoc\\\\Desktop\\\\TQS\\\\tqs-final-project\\\\frontend\\\\src\\\\contextRes.js\";\nimport React, { Component } from 'react';\nimport getReservas from './dataRes';\nconst ReservasContext = React.createContext();\n\nclass ReservasProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sortedReservas: [],\n      loading: true\n    };\n\n    this.getReserva = slug => {\n      let tempReservas = [...this.state.sortedReservas];\n      const reserva = tempReservas.find(reserva => reserva.slug === slug);\n      return reserva;\n    };\n\n    this.handleChangeReservas = event => {\n      const target = event.target;\n      const value = target.nome === 'checkbox' ? target.checked : target.value;\n      const name = event.target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  // getData\n  componentDidMount() {\n    var reservas = [];\n    getReservas().then(data => {\n      reservas = this.formatDataReservas(data);\n      this.setState({\n        sortedReservas: reservas\n      });\n    });\n  }\n\n  formatDataReservas(items) {\n    let tempItems = [];\n    items.map(item => {\n      let id = item.id;\n      let data = item.date;\n      let hour = item.time;\n      let slug = \"reserva\";\n      let service = item.services;\n      let reserva = {\n        slug,\n        data,\n        hour,\n        service,\n        id\n      };\n      tempItems.push(reserva);\n    });\n    return tempItems;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(ReservasContext.Provider, {\n      value: { ...this.state,\n        getReserva: this.getReserva,\n        handleChangeReservas: this.handleChangeReservas\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, this.props.children);\n  }\n\n}\n\nconst ReservasConsumer = ReservasContext.Consumer;\nexport function withReservasConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return /*#__PURE__*/React.createElement(ReservasConsumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 16\n      }\n    }, value => /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      context: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 23\n      }\n    })));\n  };\n}\nexport { ReservasProvider, ReservasConsumer, ReservasContext };","map":{"version":3,"sources":["C:/Users/joaoc/Desktop/TQS/tqs-final-project/frontend/src/contextRes.js"],"names":["React","Component","getReservas","ReservasContext","createContext","ReservasProvider","state","sortedReservas","loading","getReserva","slug","tempReservas","reserva","find","handleChangeReservas","event","target","value","nome","checked","name","setState","componentDidMount","reservas","then","data","formatDataReservas","items","tempItems","map","item","id","date","hour","time","service","services","push","render","props","children","ReservasConsumer","Consumer","withReservasConsumer","ConsumerWrapper"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport getReservas from './dataRes';\r\n\r\n\r\nconst ReservasContext = React.createContext();\r\n\r\nclass ReservasProvider extends Component {\r\n\r\n    state = {\r\n        sortedReservas: [],\r\n\r\n        loading: true,\r\n    };\r\n    // getData\r\n\r\n    componentDidMount() {\r\n        var reservas=[];\r\n\r\n        getReservas().then(data =>{\r\n            reservas = this.formatDataReservas(data);\r\n            this.setState({\r\n                sortedReservas:reservas\r\n            })\r\n        })\r\n    }\r\n    formatDataReservas(items) {\r\n\r\n        let tempItems=[];\r\n\r\n        items.map(item => {\r\n            let id = item.id;\r\n            let data = item.date;\r\n            let hour = item.time;\r\n            let slug = \"reserva\";\r\n            let service = item.services;\r\n\r\n            let reserva = {slug,data,hour,service,id};\r\n            tempItems.push(reserva);\r\n\r\n        });\r\n        return tempItems\r\n    }\r\n\r\n\r\n    getReserva = (slug) => {\r\n        let tempReservas = [...this.state.sortedReservas];\r\n        const reserva = tempReservas.find(reserva => reserva.slug === slug);\r\n        return reserva;\r\n    };\r\n\r\n    handleChangeReservas = event => {\r\n        const target = event.target;\r\n        const value = target.nome === 'checkbox' ?\r\n            target.checked : target.value;\r\n        const name = event.target.name;\r\n        this.setState({\r\n                [name] :value\r\n            },\r\n        );\r\n    };\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <ReservasContext.Provider\r\n                value={{\r\n                    ...this.state,\r\n                    getReserva: this.getReserva,\r\n                    handleChangeReservas: this.handleChangeReservas,\r\n                }}>\r\n                {this.props.children}\r\n            </ReservasContext.Provider>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst ReservasConsumer = ReservasContext.Consumer;\r\n\r\nexport function withReservasConsumer (Component){\r\n    return function ConsumerWrapper(props){\r\n        return <ReservasConsumer>\r\n            {value => <Component {...props} context={value} />}\r\n        </ReservasConsumer>\r\n    }\r\n}\r\n\r\nexport { ReservasProvider, ReservasConsumer, ReservasContext };"]},"metadata":{},"sourceType":"module"}