{"ast":null,"code":"import React, { Fragment, Component } from 'react';\nimport AddCabeleireiroForm from '../crud/AddCabeleireiroForm';\nimport EditCabeleireiroForm from '../crud/EditCabeleireiroForm';\nimport CabeleireiroTable from '../crud/CabeleireiroTable';\nimport NavbarDono from \"../components/NavbarDono\";\nimport '../crud/style.css';\nimport api from \"../services/api\";\nimport NavbarCliente from \"../components/NavbarCliente\";\nexport default class Gestao extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cabeleireiros: [],\n      setCabeleireiros: [],\n      currentCabeleireiro: [],\n      setCurrentCabeleireiro: [],\n      editing: false,\n      setEditing: false\n    };\n  }\n\n  render() {\n    /*api.post(\"/user/\",{name: \"Joao Carvalho\",email: \"joao@gmail.com\",password: \"123\",type: \"dono\"} ).then(id => {\r\n    api.post(\"/saloon/\",{name: \"Machos\",postalCode: \"3100-412\",city: \"Tarouca\",country: \"Portugal\",status: \"Aberto\",type: \"Cabeleireiro\",contact: \"911881428\",description: \"O melhor cabeleireiro de Portugal e arredores!\",image: \"https://fotos.vivadecora.com.br/decoracao-salao-de-beleza-piso-de-porcelanato-claro-e-cadeira-de-couro-preta-revistavd-187516-square_cover_xsmall.jpg\",address: \"Rua Cima do Povo\",owner: id.data} ).then();\r\n    });\r\n    api.get(\"/saloon/\",).then(res => {\r\n    this.setState({\r\n    \tcabeleireiros: res.data,\r\n    \tsetCabeleireiros: res.data,\r\n    })\r\n    });*/\n    console.log(\"this.state.cabeleireiros\"); //const initialFormState = {id: null, nome: '', cidade: '', imagem: ''};\n    // Setting state\n\n    /*const [cabeleireiros, setCabeleireiros] = useState(cabeleireirosData);\r\n    const [currentCabeleireiro, setCurrentCabeleireiro] = useState(initialFormState);\r\n    const [editing, setEditing] = useState(false);*/\n    // CRUD operations\n\n    /*const addCabeleireiro = cabeleireiro => {\r\n    \tcabeleireiro.id = this.state.cabeleireiros.length + 1\r\n    \tthis.state.setCabeleireiros([...this.state.cabeleireiros, cabeleireiro])\r\n    }\r\n    \t\tconst deleteCabeleireiro = id => {\r\n    \tthis.state.setEditing(false)\r\n    \t\t\tthis.state.setCabeleireiros(this.state.cabeleireiros.filter(cabeleireiro => cabeleireiro.id !== id))\r\n    }\r\n    \t\tconst updateCabeleireiro = (id, updatedCabeleireiro) => {\r\n    \tthis.state.setEditing(false)\r\n    \t\t\tthis.state.setCabeleireiros(this.state.cabeleireiros.map(cabeleireiro => (cabeleireiro.id === id ? updatedCabeleireiro : cabeleireiro)))\r\n    }\r\n    \t\tconst editRow = cabeleireiro => {\r\n    \tthis.state.setEditing(true)\r\n    \t\t\tthis.state.setCurrentCabeleireiro({\r\n    \t\tid: cabeleireiro.id,\r\n    \t\tnome: cabeleireiro.name,\r\n    \t\tcidade: cabeleireiro.city,\r\n    \t\timagem: cabeleireiro.image\r\n    \t})\r\n    }\r\n    \t\treturn (\r\n    \t<>\r\n    \t\t{localStorage.getItem(\"user_type\")==\"dono\" ? <NavbarDono></NavbarDono>:<NavbarCliente></NavbarCliente> }\r\n    \t<Fragment>\r\n    \t\t<NavbarDono></NavbarDono>\r\n    \t\t<div className=\"container\">\r\n    \t\t\t<h1>CRUD dos cabeleireiros no Web Site</h1>\r\n    \t\t\t<div className=\"flex-row\">\r\n    \t\t\t\t<div className=\"flex-large\">\r\n    \t\t\t\t\t{this.state.editing ? (\r\n    \t\t\t\t\t\t<Fragment>\r\n    \t\t\t\t\t\t\t<h2>Editar cabeleireiro</h2>\r\n    \t\t\t\t\t\t\t<EditCabeleireiroForm\r\n    \t\t\t\t\t\t\t\tediting={this.state.editing}\r\n    \t\t\t\t\t\t\t\tsetEditing={this.state.setEditing}\r\n    \t\t\t\t\t\t\t\tcurrentCabeleireiro={this.state.currentCabeleireiro}\r\n    \t\t\t\t\t\t\t\tupdateCabeleireiro={updateCabeleireiro}\r\n    \t\t\t\t\t\t\t/>\r\n    \t\t\t\t\t\t</Fragment>\r\n    \t\t\t\t\t) : (\r\n    \t\t\t\t\t\t<Fragment>\r\n    \t\t\t\t\t\t\t<h2>Adicionar cabeleireiro</h2>\r\n    \t\t\t\t\t\t\t<AddCabeleireiroForm addCabeleireiro={addCabeleireiro}/>\r\n    \t\t\t\t\t\t</Fragment>\r\n    \t\t\t\t\t)}\r\n    \t\t\t\t</div>\r\n    \t\t\t\t<div className=\"flex-large\">\r\n    \t\t\t\t\t<h2>Ver cabeleireiros</h2>\r\n    \t\t\t\t\t<CabeleireiroTable cabeleireiros={this.state.cabeleireiros} editRow={editRow}\r\n    \t\t\t\t\t\t\t\t\t   deleteCabeleireiro={deleteCabeleireiro}/>\r\n    \t\t\t\t</div>\r\n    \t\t\t</div>\r\n    \t\t</div>\r\n    \t</Fragment>\r\n    \t\t</>\r\n    )*/\n  }\n\n}","map":{"version":3,"sources":["C:/Users/joaoc/Desktop/TQS/tqs-final-project/frontend/src/pages/Gestao.js"],"names":["React","Fragment","Component","AddCabeleireiroForm","EditCabeleireiroForm","CabeleireiroTable","NavbarDono","api","NavbarCliente","Gestao","state","cabeleireiros","setCabeleireiros","currentCabeleireiro","setCurrentCabeleireiro","editing","setEditing","render","console","log"],"mappings":"AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAOC,mBAAP,MAAgC,6BAAhC;AACA,OAAOC,oBAAP,MAAiC,8BAAjC;AACA,OAAOC,iBAAP,MAA8B,2BAA9B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAO,mBAAP;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AAGA,eAAe,MAAMC,MAAN,SAAqBP,SAArB,CAA8B;AAAA;AAAA;AAAA,SAC5CQ,KAD4C,GACtC;AACLC,MAAAA,aAAa,EAAE,EADV;AAELC,MAAAA,gBAAgB,EAAC,EAFZ;AAGLC,MAAAA,mBAAmB,EAAC,EAHf;AAILC,MAAAA,sBAAsB,EAAC,EAJlB;AAKLC,MAAAA,OAAO,EAAC,KALH;AAMLC,MAAAA,UAAU,EAAC;AANN,KADsC;AAAA;;AAS5CC,EAAAA,MAAM,GAAG;AAEP;;;;;;;;;AASDC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAXQ,CAYR;AAEA;;AACA;;;AAMA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;;AA/F2C","sourcesContent":["\r\nimport React, { Fragment, Component} from 'react'\r\nimport AddCabeleireiroForm from '../crud/AddCabeleireiroForm';\r\nimport EditCabeleireiroForm from '../crud/EditCabeleireiroForm';\r\nimport CabeleireiroTable from '../crud/CabeleireiroTable';\r\nimport NavbarDono from \"../components/NavbarDono\";\r\nimport '../crud/style.css';\r\nimport api from \"../services/api\";\r\nimport NavbarCliente from \"../components/NavbarCliente\";\r\n\r\n\r\nexport default class Gestao extends Component{\r\n\tstate={\r\n\t\tcabeleireiros: [],\r\n\t\tsetCabeleireiros:[],\r\n\t\tcurrentCabeleireiro:[],\r\n\t\tsetCurrentCabeleireiro:[],\r\n\t\tediting:false,\r\n\t\tsetEditing:false,\r\n\t};\r\n\trender() {\r\n\r\n\t \t/*api.post(\"/user/\",{name: \"Joao Carvalho\",email: \"joao@gmail.com\",password: \"123\",type: \"dono\"} ).then(id => {\r\n\tapi.post(\"/saloon/\",{name: \"Machos\",postalCode: \"3100-412\",city: \"Tarouca\",country: \"Portugal\",status: \"Aberto\",type: \"Cabeleireiro\",contact: \"911881428\",description: \"O melhor cabeleireiro de Portugal e arredores!\",image: \"https://fotos.vivadecora.com.br/decoracao-salao-de-beleza-piso-de-porcelanato-claro-e-cadeira-de-couro-preta-revistavd-187516-square_cover_xsmall.jpg\",address: \"Rua Cima do Povo\",owner: id.data} ).then();\r\n});\r\n\t\tapi.get(\"/saloon/\",).then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcabeleireiros: res.data,\r\n\t\t\t\tsetCabeleireiros: res.data,\r\n\t\t\t})\r\n\t\t});*/\r\n\t\tconsole.log(\"this.state.cabeleireiros\");\r\n\t\t//const initialFormState = {id: null, nome: '', cidade: '', imagem: ''};\r\n\r\n\t\t// Setting state\r\n\t\t/*const [cabeleireiros, setCabeleireiros] = useState(cabeleireirosData);\r\n\t\tconst [currentCabeleireiro, setCurrentCabeleireiro] = useState(initialFormState);\r\n\t\tconst [editing, setEditing] = useState(false);*/\r\n\r\n\r\n\r\n\t\t// CRUD operations\r\n\t\t/*const addCabeleireiro = cabeleireiro => {\r\n\t\t\tcabeleireiro.id = this.state.cabeleireiros.length + 1\r\n\t\t\tthis.state.setCabeleireiros([...this.state.cabeleireiros, cabeleireiro])\r\n\t\t}\r\n\r\n\t\tconst deleteCabeleireiro = id => {\r\n\t\t\tthis.state.setEditing(false)\r\n\r\n\t\t\tthis.state.setCabeleireiros(this.state.cabeleireiros.filter(cabeleireiro => cabeleireiro.id !== id))\r\n\t\t}\r\n\r\n\t\tconst updateCabeleireiro = (id, updatedCabeleireiro) => {\r\n\t\t\tthis.state.setEditing(false)\r\n\r\n\t\t\tthis.state.setCabeleireiros(this.state.cabeleireiros.map(cabeleireiro => (cabeleireiro.id === id ? updatedCabeleireiro : cabeleireiro)))\r\n\t\t}\r\n\r\n\t\tconst editRow = cabeleireiro => {\r\n\t\t\tthis.state.setEditing(true)\r\n\r\n\t\t\tthis.state.setCurrentCabeleireiro({\r\n\t\t\t\tid: cabeleireiro.id,\r\n\t\t\t\tnome: cabeleireiro.name,\r\n\t\t\t\tcidade: cabeleireiro.city,\r\n\t\t\t\timagem: cabeleireiro.image\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{localStorage.getItem(\"user_type\")==\"dono\" ? <NavbarDono></NavbarDono>:<NavbarCliente></NavbarCliente> }\r\n\t\t\t<Fragment>\r\n\t\t\t\t<NavbarDono></NavbarDono>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>CRUD dos cabeleireiros no Web Site</h1>\r\n\t\t\t\t\t<div className=\"flex-row\">\r\n\t\t\t\t\t\t<div className=\"flex-large\">\r\n\t\t\t\t\t\t\t{this.state.editing ? (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<h2>Editar cabeleireiro</h2>\r\n\t\t\t\t\t\t\t\t\t<EditCabeleireiroForm\r\n\t\t\t\t\t\t\t\t\t\tediting={this.state.editing}\r\n\t\t\t\t\t\t\t\t\t\tsetEditing={this.state.setEditing}\r\n\t\t\t\t\t\t\t\t\t\tcurrentCabeleireiro={this.state.currentCabeleireiro}\r\n\t\t\t\t\t\t\t\t\t\tupdateCabeleireiro={updateCabeleireiro}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<h2>Adicionar cabeleireiro</h2>\r\n\t\t\t\t\t\t\t\t\t<AddCabeleireiroForm addCabeleireiro={addCabeleireiro}/>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex-large\">\r\n\t\t\t\t\t\t\t<h2>Ver cabeleireiros</h2>\r\n\t\t\t\t\t\t\t<CabeleireiroTable cabeleireiros={this.state.cabeleireiros} editRow={editRow}\r\n\t\t\t\t\t\t\t\t\t\t\t   deleteCabeleireiro={deleteCabeleireiro}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Fragment>\r\n\t\t\t\t</>\r\n\t\t)*/\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}