{"ast":null,"code":"var _jsxFileName = \"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/src/context.js\";\nimport React, { Component } from 'react';\nimport getSaloes from './data';\nimport img1 from \"./images/cabeleireiro1.jpg\";\nconst CabeleireirosContext = React.createContext();\n\nclass CabeleireirosProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cabeleireiros: [],\n      sortedCabeleireiros: [],\n      loading: true,\n      nome: \"\",\n      cidade: \"\"\n    };\n\n    this.getCabeleireiro = slug => {\n      let tempCabeleireiros = [...this.state.cabeleireiros];\n      const cabeleireiro = tempCabeleireiros.find(cabeleireiro => cabeleireiro.slug === slug);\n      return cabeleireiro;\n    };\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.nome === 'checkbox' ? target.checked : target.value;\n      const name = event.target.name;\n      this.setState({\n        [name]: value\n      }, this.filterCabeleireiros);\n    };\n\n    this.filterCabeleireiros = () => {\n      let {\n        cabeleireiros,\n        nome,\n        cidade\n      } = this.state; // all the cabeleireiros\n\n      let tempCabeleireiros = [...cabeleireiros]; // filter by nome \n\n      if (nome !== \"\") {\n        tempCabeleireiros = tempCabeleireiros.filter(cabeleireiro => cabeleireiro.nome === nome);\n      } // filter by cidade\n\n\n      if (cidade !== \"\") {\n        tempCabeleireiros = tempCabeleireiros.filter(cabeleireiro => cabeleireiro.cidade === cidade);\n      } // change state \n\n\n      this.setState({\n        sortedCabeleireiros: tempCabeleireiros\n      });\n    };\n  }\n\n  // getData\n  componentDidMount() {\n    var cabeleireiros = [];\n    getSaloes.then(data => {\n      cabeleireiros = this.formatData(data);\n    });\n    this.setState({\n      cabeleireiros,\n      sortedCabeleireiros: cabeleireiros,\n      loading: false\n    });\n  }\n\n  formatData(items) {\n    console.log(items);\n    let tempItems = items.map(item => {\n      let id = item.id;\n      let nome = item.name;\n      let slug = \"salao\";\n      let cidade = item.city;\n      let imagens = [img1];\n      let cabeleireiro = {\n        nome,\n        slug,\n        cidade,\n        imagens,\n        id\n      };\n      return cabeleireiro;\n    });\n    return tempItems;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(CabeleireirosContext.Provider, {\n      value: { ...this.state,\n        getCabeleireiro: this.getCabeleireiro,\n        handleChange: this.handleChange\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, this.props.children);\n  }\n\n}\n\nconst CabeleireirosConsumer = CabeleireirosContext.Consumer;\nexport function withCabeleireirosConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return /*#__PURE__*/React.createElement(CabeleireirosConsumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 16\n      }\n    }, value => /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      context: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 23\n      }\n    })));\n  };\n}\nexport { CabeleireirosProvider, CabeleireirosConsumer, CabeleireirosContext };","map":{"version":3,"sources":["/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/src/context.js"],"names":["React","Component","getSaloes","img1","CabeleireirosContext","createContext","CabeleireirosProvider","state","cabeleireiros","sortedCabeleireiros","loading","nome","cidade","getCabeleireiro","slug","tempCabeleireiros","cabeleireiro","find","handleChange","event","target","value","checked","name","setState","filterCabeleireiros","filter","componentDidMount","then","data","formatData","items","console","log","tempItems","map","item","id","city","imagens","render","props","children","CabeleireirosConsumer","Consumer","withCabeleireirosConsumer","ConsumerWrapper"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport getSaloes from './data';\nimport img1 from \"./images/cabeleireiro1.jpg\";\n\nconst CabeleireirosContext = React.createContext();\n\nclass CabeleireirosProvider extends Component {\n\n    state = {\n        cabeleireiros: [],\n        sortedCabeleireiros: [],\n        \n        loading: true,\n        nome:\"\",\n        cidade:\"\",\n    };\n    // getData\n\n    componentDidMount() {\n\n        var cabeleireiros=[];\n        getSaloes.then(data => {\n        cabeleireiros = this.formatData(data);\n        });\n        \n    \n\n        this.setState({\n            cabeleireiros,\n            \n            sortedCabeleireiros: cabeleireiros,\n            loading: false,\n            \n        });\n    }\n\n    formatData(items) {\n        console.log(items);\n        let tempItems = items.map(item => {\n            let id = item.id;\n            let nome = item.name;\n            let slug = \"salao\";\n            let cidade = item.city;\n            let imagens = [img1];\n\n            let cabeleireiro = {nome,slug,cidade,imagens,id }\n            return cabeleireiro;\n        });\n      \n        return tempItems\n    }\n    getCabeleireiro = (slug) => {\n        let tempCabeleireiros = [...this.state.cabeleireiros];\n        const cabeleireiro = tempCabeleireiros.find(cabeleireiro => cabeleireiro.slug === slug);\n        return cabeleireiro;\n    };\nhandleChange = event => {\n    const target = event.target;\n    const value = target.nome === 'checkbox' ?\n    target.checked : target.value;\n    const name = event.target.name;\n   this.setState({\n      [name] :value \n   },\n    this.filterCabeleireiros\n    );\n};\nfilterCabeleireiros = () => {\n    let{\n        cabeleireiros, \n        nome,\n        cidade,\n    } = this.state\n\n// all the cabeleireiros\nlet tempCabeleireiros = [...cabeleireiros];\n\n\n// filter by nome \n\nif(nome !== \"\") {\n    tempCabeleireiros = tempCabeleireiros.filter(cabeleireiro => cabeleireiro.nome ===\n    nome);\n}\n\n\n\n// filter by cidade\nif(cidade !== \"\") {\n    tempCabeleireiros = tempCabeleireiros.filter(cabeleireiro => cabeleireiro.cidade ===\n    cidade);\n}\n\n\n\n// change state \nthis.setState({\n    sortedCabeleireiros:tempCabeleireiros\n})\n};\n    render() {\n        return (\n        <CabeleireirosContext.Provider \n        value={{\n            ...this.state,\n            getCabeleireiro: this.getCabeleireiro,\n            handleChange: this.handleChange\n            }}>\n            {this.props.children}\n        </CabeleireirosContext.Provider>\n            \n         );\n    }\n  }\n\n\nconst CabeleireirosConsumer = CabeleireirosContext.Consumer;\nexport function withCabeleireirosConsumer(Component){\n    return function ConsumerWrapper(props){\n        return <CabeleireirosConsumer>\n            {value => <Component {...props} context={value} />}\n        </CabeleireirosConsumer>\n    }\n}\n\nexport { CabeleireirosProvider, CabeleireirosConsumer, CabeleireirosContext };"]},"metadata":{},"sourceType":"module"}