{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaoc\\\\Desktop\\\\TQS\\\\tqs-final-project\\\\frontend\\\\src\\\\pages\\\\Gestao.js\";\nimport React, { useState, Fragment } from 'react';\nimport AddCabeleireiroForm from '../crud/AddCabeleireiroForm';\nimport EditCabeleireiroForm from '../crud/EditCabeleireiroForm';\nimport CabeleireiroTable from '../crud/CabeleireiroTable';\nimport NavbarDono from \"../components/NavbarDono\";\nimport '../crud/style.css';\nimport api from \"../services/api\";\n\nfunction teste() {}\n\nconst Gestao = () => {\n  api.post(\"/user/\", {\n    name: \"Joao Carvalho\",\n    email: \"joao@gmail.com\",\n    password: \"123\",\n    type: \"dono\"\n  }).then(id => {\n    api.post(\"/saloon/\", {\n      name: \"Machos\",\n      postalCode: \"3100-412\",\n      city: \"Tarouca\",\n      country: \"Portugal\",\n      status: \"Aberto\",\n      type: \"Cabeleireiro\",\n      contact: \"911881428\",\n      description: \"O melhor cabeleireiro de Portugal e arredores!\",\n      image: \"https://fotos.vivadecora.com.br/decoracao-salao-de-beleza-piso-de-porcelanato-claro-e-cadeira-de-couro-preta-revistavd-187516-square_cover_xsmall.jpg\",\n      address: \"Rua Cima do Povo\",\n      owner: id.data\n    }).then();\n  }); // Data\n\n  let cabeleireirosData = [\n    /*{ id: 1, nome: 'Cabeleireiro 1 ', cidade: 'Lisboa' ,imagem:''},\r\n    { id: 2, nome: 'Cabeleireiro 2', cidade: 'Aveiro' ,imagem:''},*/\n  ];\n  api.get(\"/saloon/\").then(res => {\n    cabeleireirosData.push(res.data);\n  });\n  console.log(cabeleireirosData);\n  const initialFormState = {\n    id: null,\n    nome: '',\n    cidade: '',\n    imagem: ''\n  }; // Setting state\n\n  const [cabeleireiros, setCabeleireiros] = useState(cabeleireirosData);\n  const [currentCabeleireiro, setCurrentCabeleireiro] = useState(initialFormState);\n  const [editing, setEditing] = useState(false); // CRUD operations\n\n  const addCabeleireiro = cabeleireiro => {\n    cabeleireiro.id = cabeleireiros.length + 1;\n    setCabeleireiros([...cabeleireiros, cabeleireiro]);\n  };\n\n  const deleteCabeleireiro = id => {\n    setEditing(false);\n    setCabeleireiros(cabeleireiros.filter(cabeleireiro => cabeleireiro.id !== id));\n  };\n\n  const updateCabeleireiro = (id, updatedCabeleireiro) => {\n    setEditing(false);\n    setCabeleireiros(cabeleireiros.map(cabeleireiro => cabeleireiro.id === id ? updatedCabeleireiro : cabeleireiro));\n  };\n\n  const editRow = cabeleireiro => {\n    setEditing(true);\n    setCurrentCabeleireiro({\n      id: cabeleireiro.id,\n      nome: cabeleireiro.nome,\n      cidade: cabeleireiro.cidade,\n      imagem: cabeleireiro.imagem\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(NavbarDono, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, \"CRUD dos cabeleireiros no Web Site\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 6\n    }\n  }, editing ? /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Editar cabeleireiro\"), /*#__PURE__*/React.createElement(EditCabeleireiroForm, {\n    editing: editing,\n    setEditing: setEditing,\n    currentCabeleireiro: currentCabeleireiro,\n    updateCabeleireiro: updateCabeleireiro,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"Adicionar cabeleireiro\"), /*#__PURE__*/React.createElement(AddCabeleireiroForm, {\n    addCabeleireiro: addCabeleireiro,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, \"Ver cabeleireiros\"), /*#__PURE__*/React.createElement(CabeleireiroTable, {\n    cabeleireiros: cabeleireiros,\n    editRow: editRow,\n    deleteCabeleireiro: deleteCabeleireiro,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  })))));\n};\n\nexport default Gestao;","map":{"version":3,"sources":["C:/Users/joaoc/Desktop/TQS/tqs-final-project/frontend/src/pages/Gestao.js"],"names":["React","useState","Fragment","AddCabeleireiroForm","EditCabeleireiroForm","CabeleireiroTable","NavbarDono","api","teste","Gestao","post","name","email","password","type","then","id","postalCode","city","country","status","contact","description","image","address","owner","data","cabeleireirosData","get","res","push","console","log","initialFormState","nome","cidade","imagem","cabeleireiros","setCabeleireiros","currentCabeleireiro","setCurrentCabeleireiro","editing","setEditing","addCabeleireiro","cabeleireiro","length","deleteCabeleireiro","filter","updateCabeleireiro","updatedCabeleireiro","map","editRow"],"mappings":"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","sourcesContent":["\r\nimport React, { useState, Fragment } from 'react'\r\nimport AddCabeleireiroForm from '../crud/AddCabeleireiroForm';\r\nimport EditCabeleireiroForm from '../crud/EditCabeleireiroForm';\r\nimport CabeleireiroTable from '../crud/CabeleireiroTable';\r\nimport NavbarDono from \"../components/NavbarDono\";\r\nimport '../crud/style.css';\r\nimport api from \"../services/api\";\r\n\r\nfunction teste() {\r\n\r\n}\r\n\r\nconst Gestao = () => {\r\n\r\n\tapi.post(\"/user/\",{name: \"Joao Carvalho\",email: \"joao@gmail.com\",password: \"123\",type: \"dono\"} ).then(id => {\r\n\t\tapi.post(\"/saloon/\",{name: \"Machos\",postalCode: \"3100-412\",city: \"Tarouca\",country: \"Portugal\",status: \"Aberto\",type: \"Cabeleireiro\",contact: \"911881428\",description: \"O melhor cabeleireiro de Portugal e arredores!\",image: \"https://fotos.vivadecora.com.br/decoracao-salao-de-beleza-piso-de-porcelanato-claro-e-cadeira-de-couro-preta-revistavd-187516-square_cover_xsmall.jpg\",address: \"Rua Cima do Povo\",owner: id.data} ).then();\r\n\t});\t// Data\r\n\tlet cabeleireirosData = [\r\n\t\t/*{ id: 1, nome: 'Cabeleireiro 1 ', cidade: 'Lisboa' ,imagem:''},\r\n\t\t{ id: 2, nome: 'Cabeleireiro 2', cidade: 'Aveiro' ,imagem:''},*/\r\n\r\n\t];\r\n\r\n\tapi.get(\"/saloon/\",).then(\r\n\t\tres => {\r\n\t\t\tcabeleireirosData.push(res.data);\r\n\t\t}\r\n\t);\r\n\tconsole.log(cabeleireirosData);\r\n\tconst initialFormState = {id: null, nome: '', cidade: '', imagem: ''};\r\n\r\n\t// Setting state\r\n\tconst [cabeleireiros, setCabeleireiros] = useState(cabeleireirosData);\r\n\tconst [currentCabeleireiro, setCurrentCabeleireiro] = useState(initialFormState);\r\n\tconst [editing, setEditing] = useState(false);\r\n\r\n\t// CRUD operations\r\n\tconst addCabeleireiro = cabeleireiro => {\r\n\t\tcabeleireiro.id = cabeleireiros.length + 1\r\n\t\tsetCabeleireiros([...cabeleireiros, cabeleireiro])\r\n\t}\r\n\r\n\tconst deleteCabeleireiro = id => {\r\n\t\tsetEditing(false)\r\n\r\n\t\tsetCabeleireiros(cabeleireiros.filter(cabeleireiro => cabeleireiro.id !== id))\r\n\t}\r\n\r\n\tconst updateCabeleireiro = (id, updatedCabeleireiro) => {\r\n\t\tsetEditing(false)\r\n\r\n\t\tsetCabeleireiros(cabeleireiros.map(cabeleireiro => (cabeleireiro.id === id ? updatedCabeleireiro : cabeleireiro)))\r\n\t}\r\n\r\n\tconst editRow = cabeleireiro => {\r\n\t\tsetEditing(true)\r\n\r\n\t\tsetCurrentCabeleireiro({\r\n\t\t\tid: cabeleireiro.id,\r\n\t\t\tnome: cabeleireiro.nome,\r\n\t\t\tcidade: cabeleireiro.cidade,\r\n\t\t\timagem: cabeleireiro.imagem\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<NavbarDono></NavbarDono>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h1>CRUD dos cabeleireiros no Web Site</h1>\r\n\t\t\t\t<div className=\"flex-row\">\r\n\t\t\t\t\t<div className=\"flex-large\">\r\n\t\t\t\t\t\t{editing ? (\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<h2>Editar cabeleireiro</h2>\r\n\t\t\t\t\t\t\t\t<EditCabeleireiroForm\r\n\t\t\t\t\t\t\t\t\tediting={editing}\r\n\t\t\t\t\t\t\t\t\tsetEditing={setEditing}\r\n\t\t\t\t\t\t\t\t\tcurrentCabeleireiro={currentCabeleireiro}\r\n\t\t\t\t\t\t\t\t\tupdateCabeleireiro={updateCabeleireiro}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<h2>Adicionar cabeleireiro</h2>\r\n\t\t\t\t\t\t\t\t<AddCabeleireiroForm addCabeleireiro={addCabeleireiro}/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"flex-large\">\r\n\t\t\t\t\t\t<h2>Ver cabeleireiros</h2>\r\n\t\t\t\t\t\t<CabeleireiroTable cabeleireiros={cabeleireiros} editRow={editRow}\r\n\t\t\t\t\t\t\t\t\t\t   deleteCabeleireiro={deleteCabeleireiro}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default Gestao\r\n"]},"metadata":{},"sourceType":"module"}