{"ast":null,"code":"import _toConsumableArray from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import CardMedia from'@material-ui/core/CardMedia';import CssBaseline from'@material-ui/core/CssBaseline';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import NavbarDono from\"../components/NavbarDono\";import api from\"../services/api\";import NavbarCliente from\"../components/NavbarCliente\";import Button from\"@material-ui/core/Button\";var useStyles=makeStyles(function(theme){return{icon:{marginRight:theme.spacing(2)},heroContent:{backgroundColor:theme.palette.background.paper,padding:theme.spacing(8,0,6)},heroButtons:{marginTop:theme.spacing(4)},cardGrid:{paddingTop:theme.spacing(8),paddingBottom:theme.spacing(8)},card:{height:'100%',display:'flex',opacity:1,flexDirection:'column'},cardDone:{height:'100%',display:'flex',opacity:0.4,flexDirection:'column'},cardMedia:{paddingTop:'0%'// 16:9\n},cardContent:{flexGrow:1},footer:{backgroundColor:theme.palette.background.paper,padding:theme.spacing(6)}};});var cards=[1,2,3,4];var isDone=[true,false,false,false];var classes=useStyles;var Album=/*#__PURE__*/function(_Component){_inherits(Album,_Component);var _super=_createSuper(Album);function Album(){var _this;_classCallCheck(this,Album);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={reservas:[]};return _this;}_createClass(Album,[{key:\"componentDidMount\",value:function componentDidMount(){this.GetReservations();}},{key:\"GetReservations\",value:function GetReservations(){var _this2=this;api.get(\"/reservation\").then(function(res){var dataRes=res.data;var _loop=function _loop(n){if(dataRes[n].users.email==localStorage.getItem(\"user_email\")){_this2.setState(function(prevState){return{reservas:[].concat(_toConsumableArray(prevState.reservas),[dataRes[n]])};});}};for(var n in dataRes){_loop(n);}});}},{key:\"deleteReservation\",value:function deleteReservation(id){api.delete(\"/reservation/\"+id).then(function(re){console.log(re);});window.location.reload(false);}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavbarCliente,null),/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.heroContent},/*#__PURE__*/React.createElement(Container,{maxWidth:\"sm\"},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h4\",align:\"center\",color:\"textPrimary\",gutterBottom:true}),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h4\",align:\"center\",color:\"textPrimary\",gutterBottom:true},\"Minhas Reservas:\"),/*#__PURE__*/React.createElement(\"div\",{className:classes.heroButtons}))),/*#__PURE__*/React.createElement(Container,{className:classes.cardGrid,maxWidth:\"md\"},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:4},this.state.reservas.map(function(e,key){return/*#__PURE__*/React.createElement(Grid,{item:true,key:key,xs:12,sm:6,md:3},/*#__PURE__*/React.createElement(Card,{className:isDone[cards.indexOf(key)]?classes.cardDone:classes.card},/*#__PURE__*/React.createElement(CardMedia,{component:\"img\",className:classes.cardMedia,src:require('../images/cabeleireiro1.jpg'),title:\"\"}),/*#__PURE__*/React.createElement(CardContent,{className:classes.cardContent},/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\"},e.service.saloon.name),/*#__PURE__*/React.createElement(Typography,null,\"Data: \",e.date),/*#__PURE__*/React.createElement(Typography,null,\"Hora: \",e.time),/*#__PURE__*/React.createElement(Typography,null,\"Servi\\xE7o: \",e.service.name),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(i){return _this3.deleteReservation(e.id);},name:e.id,variant:\"primary\",size:\"sm\"},\"DESMARCAR\")))));})))));}}]);return Album;}(Component);export{Album as default};","map":{"version":3,"sources":["/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/frontend/src/pages/Reservas.js"],"names":["React","Component","Card","CardContent","CardMedia","CssBaseline","Grid","Typography","makeStyles","Container","NavbarDono","api","NavbarCliente","Button","useStyles","theme","icon","marginRight","spacing","heroContent","backgroundColor","palette","background","paper","padding","heroButtons","marginTop","cardGrid","paddingTop","paddingBottom","card","height","display","opacity","flexDirection","cardDone","cardMedia","cardContent","flexGrow","footer","cards","isDone","classes","Album","state","reservas","GetReservations","get","then","res","dataRes","data","n","users","email","localStorage","getItem","setState","prevState","id","delete","re","console","log","window","location","reload","map","e","key","indexOf","require","service","saloon","name","date","time","i","deleteReservation"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport NavbarDono from \"../components/NavbarDono\";\nimport api from \"../services/api\";\nimport NavbarCliente from \"../components/NavbarCliente\";\nimport Button from \"@material-ui/core/Button\";\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    marginRight: theme.spacing(2),\n  },\n  heroContent: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(8, 0, 6),\n  },\n  heroButtons: {\n    marginTop: theme.spacing(4),\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n  card: {\n    height: '100%',\n    display: 'flex',\n    opacity: 1,\n    flexDirection: 'column',\n  },\n  cardDone: {\n    height: '100%',\n    display: 'flex',\n    opacity: 0.4,\n    flexDirection: 'column',\n  },\n  cardMedia: {\n    paddingTop: '0%', // 16:9\n  },\n  cardContent: {\n    flexGrow: 1,\n  },\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(6),\n  },\n}));\n\nconst cards = [1, 2, 3, 4];\nconst isDone=[true,false,false,false];\nconst classes = useStyles;\n\nexport default class Album extends Component{\n\n  state={\n    reservas: [],\n  };\n\n  componentDidMount() {\n    this.GetReservations();\n  }\n  GetReservations() {\n    api.get(\"/reservation\").then(res => {\n      let dataRes = res.data;\n      for (const n in dataRes) {\n        if(dataRes[n].users.email == localStorage.getItem(\"user_email\")){\n          this.setState(prevState =>({\n            reservas: [...prevState.reservas, dataRes[n]]\n          }))\n        }\n      }\n\n    });\n  }\n  deleteReservation(id){\n    api.delete(\"/reservation/\"+id).then(re =>{console.log(re)})\n    window.location.reload(false);\n  }\n\n  render() {\n\n    return (\n        <React.Fragment>\n          <NavbarCliente></NavbarCliente>\n          <CssBaseline />\n\n          <main>\n\n            {/* Hero unit */}\n            <div className={classes.heroContent}>\n              <Container maxWidth=\"sm\">\n                <Typography component=\"h1\" variant=\"h4\" align=\"center\" color=\"textPrimary\" gutterBottom>\n                </Typography>\n                <Typography component=\"h1\" variant=\"h4\" align=\"center\" color=\"textPrimary\" gutterBottom>\n                  Minhas Reservas:\n                </Typography>\n                <div className={classes.heroButtons}>\n\n                </div>\n              </Container>\n            </div>\n            <Container className={classes.cardGrid} maxWidth=\"md\">\n              {/* End hero unit */}\n              <Grid container spacing={4}>\n                {this.state.reservas.map((e,key) => (\n                    <Grid item key={key} xs={12} sm={6} md={3}>\n\n                      <Card className= {isDone[cards.indexOf(key)]?classes.cardDone:classes.card}>\n\n                        <CardMedia\n                            component=\"img\"\n                            className={classes.cardMedia}\n\n                            src={require('../images/cabeleireiro1.jpg')}\n                            title=\"\"\n\n\n                        />\n\n                        <CardContent className={classes.cardContent}>\n                          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                            {e.service.saloon.name} \n                          </Typography>\n                          <Typography>\n                            Data: {e.date}\n                          </Typography>\n                          <Typography>\n                            Hora: {e.time}\n                          </Typography>\n                          <Typography>\n                            Serviço: {e.service.name}\n                          </Typography>\n                         \n\n                          <div>\n                            <h4></h4>\n                            <Button onClick={(i) => this.deleteReservation(e.id)} name={e.id} variant=\"primary\" size=\"sm\">\n                              DESMARCAR\n                            </Button>\n                          </div>\n\n                        </CardContent>\n                      </Card>\n                    </Grid>\n                ))}\n              </Grid>\n            </Container>\n          </main>\n\n        </React.Fragment>\n    )};\n}\n"]},"metadata":{},"sourceType":"module"}