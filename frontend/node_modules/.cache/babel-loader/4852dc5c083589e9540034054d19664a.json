{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaoc\\\\Desktop\\\\TQS\\\\tqs-final-project\\\\frontend\\\\src\\\\pages\\\\Gestao.js\";\nimport React, { useState, Fragment, Component } from 'react';\nimport AddCabeleireiroForm from '../crud/AddCabeleireiroForm';\nimport EditCabeleireiroForm from '../crud/EditCabeleireiroForm';\nimport CabeleireiroTable from '../crud/CabeleireiroTable';\nimport NavbarDono from \"../components/NavbarDono\";\nimport '../crud/style.css';\nimport api from \"../services/api\";\nimport NavbarCliente from \"../components/NavbarCliente\";\nexport default class Gestao extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cabeleireiros: []\n    };\n  }\n\n  async getSrc() {\n    let cabeleireirosData = api.get(\"/saloon/\").then(function (res) {\n      return res.data;\n    });\n    return cabeleireirosData;\n  }\n  /*api.post(\"/user/\",{name: \"Joao Carvalho\",email: \"joao@gmail.com\",password: \"123\",type: \"dono\"} ).then(id => {\r\n     api.post(\"/saloon/\",{name: \"Machos\",postalCode: \"3100-412\",city: \"Tarouca\",country: \"Portugal\",status: \"Aberto\",type: \"Cabeleireiro\",contact: \"911881428\",description: \"O melhor cabeleireiro de Portugal e arredores!\",image: \"https://fotos.vivadecora.com.br/decoracao-salao-de-beleza-piso-de-porcelanato-claro-e-cadeira-de-couro-preta-revistavd-187516-square_cover_xsmall.jpg\",address: \"Rua Cima do Povo\",owner: id.data} ).then();\r\n  });*/\n  // Data\n\n\n  render() {\n    console.log(cabeleireirosData);\n    const initialFormState = {\n      id: null,\n      nome: '',\n      cidade: '',\n      imagem: ''\n    }; // Setting state\n\n    const [cabeleireiros, setCabeleireiros] = useState(cabeleireirosData);\n    const [currentCabeleireiro, setCurrentCabeleireiro] = useState(initialFormState);\n    const [editing, setEditing] = useState(false); // CRUD operations\n\n    const addCabeleireiro = cabeleireiro => {\n      cabeleireiro.id = cabeleireiros.length + 1;\n      setCabeleireiros([...cabeleireiros, cabeleireiro]);\n    };\n\n    const deleteCabeleireiro = id => {\n      setEditing(false);\n      setCabeleireiros(cabeleireiros.filter(cabeleireiro => cabeleireiro.id !== id));\n    };\n\n    const updateCabeleireiro = (id, updatedCabeleireiro) => {\n      setEditing(false);\n      setCabeleireiros(cabeleireiros.map(cabeleireiro => cabeleireiro.id === id ? updatedCabeleireiro : cabeleireiro));\n    };\n\n    const editRow = cabeleireiro => {\n      setEditing(true);\n      setCurrentCabeleireiro({\n        id: cabeleireiro.id,\n        nome: cabeleireiro.nome,\n        cidade: cabeleireiro.cidade,\n        imagem: cabeleireiro.imagem\n      });\n    };\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, localStorage.getItem(\"user_type\") == \"dono\" ? /*#__PURE__*/React.createElement(NavbarDono, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 50\n      }\n    }) : /*#__PURE__*/React.createElement(NavbarCliente, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 76\n      }\n    }), /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(NavbarDono, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }\n    }, \"CRUD dos cabeleireiros no Web Site\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, editing ? /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 10\n      }\n    }, \"Editar cabeleireiro\"), /*#__PURE__*/React.createElement(EditCabeleireiroForm, {\n      editing: editing,\n      setEditing: setEditing,\n      currentCabeleireiro: currentCabeleireiro,\n      updateCabeleireiro: updateCabeleireiro,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 10\n      }\n    })) : /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 10\n      }\n    }, \"Adicionar cabeleireiro\"), /*#__PURE__*/React.createElement(AddCabeleireiroForm, {\n      addCabeleireiro: addCabeleireiro,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 10\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 8\n      }\n    }, \"Ver cabeleireiros\"), /*#__PURE__*/React.createElement(CabeleireiroTable, {\n      cabeleireiros: cabeleireiros,\n      editRow: editRow,\n      deleteCabeleireiro: deleteCabeleireiro,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 8\n      }\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/joaoc/Desktop/TQS/tqs-final-project/frontend/src/pages/Gestao.js"],"names":["React","useState","Fragment","Component","AddCabeleireiroForm","EditCabeleireiroForm","CabeleireiroTable","NavbarDono","api","NavbarCliente","Gestao","state","cabeleireiros","getSrc","cabeleireirosData","get","then","res","data","render","console","log","initialFormState","id","nome","cidade","imagem","setCabeleireiros","currentCabeleireiro","setCurrentCabeleireiro","editing","setEditing","addCabeleireiro","cabeleireiro","length","deleteCabeleireiro","filter","updateCabeleireiro","updatedCabeleireiro","map","editRow","localStorage","getItem"],"mappings":"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","sourcesContent":["\r\nimport React, {useState, Fragment, Component} from 'react'\r\nimport AddCabeleireiroForm from '../crud/AddCabeleireiroForm';\r\nimport EditCabeleireiroForm from '../crud/EditCabeleireiroForm';\r\nimport CabeleireiroTable from '../crud/CabeleireiroTable';\r\nimport NavbarDono from \"../components/NavbarDono\";\r\nimport '../crud/style.css';\r\nimport api from \"../services/api\";\r\nimport NavbarCliente from \"../components/NavbarCliente\";\r\n\r\n\r\nexport default class Gestao extends Component{\r\n\tstate={\r\n\t\tcabeleireiros: [],\r\n\t};\r\n\tasync getSrc() {\r\n\t\tlet cabeleireirosData = api.get(\"/saloon/\",).then(function\r\n\t\t\t(res) {\r\n\t\t\treturn res.data;\r\n\t\t});\r\n\t\treturn cabeleireirosData;\r\n\t}\r\n\r\n\t/*api.post(\"/user/\",{name: \"Joao Carvalho\",email: \"joao@gmail.com\",password: \"123\",type: \"dono\"} ).then(id => {\r\n    api.post(\"/saloon/\",{name: \"Machos\",postalCode: \"3100-412\",city: \"Tarouca\",country: \"Portugal\",status: \"Aberto\",type: \"Cabeleireiro\",contact: \"911881428\",description: \"O melhor cabeleireiro de Portugal e arredores!\",image: \"https://fotos.vivadecora.com.br/decoracao-salao-de-beleza-piso-de-porcelanato-claro-e-cadeira-de-couro-preta-revistavd-187516-square_cover_xsmall.jpg\",address: \"Rua Cima do Povo\",owner: id.data} ).then();\r\n\t});*/\t// Data\r\n\trender() {\r\n\r\n\t\tconsole.log(cabeleireirosData);\r\n\t\tconst initialFormState = {id: null, nome: '', cidade: '', imagem: ''};\r\n\r\n\t\t// Setting state\r\n\t\tconst [cabeleireiros, setCabeleireiros] = useState(cabeleireirosData);\r\n\t\tconst [currentCabeleireiro, setCurrentCabeleireiro] = useState(initialFormState);\r\n\t\tconst [editing, setEditing] = useState(false);\r\n\r\n\t\t// CRUD operations\r\n\t\tconst addCabeleireiro = cabeleireiro => {\r\n\t\t\tcabeleireiro.id = cabeleireiros.length + 1\r\n\t\t\tsetCabeleireiros([...cabeleireiros, cabeleireiro])\r\n\t\t}\r\n\r\n\t\tconst deleteCabeleireiro = id => {\r\n\t\t\tsetEditing(false)\r\n\r\n\t\t\tsetCabeleireiros(cabeleireiros.filter(cabeleireiro => cabeleireiro.id !== id))\r\n\t\t}\r\n\r\n\t\tconst updateCabeleireiro = (id, updatedCabeleireiro) => {\r\n\t\t\tsetEditing(false)\r\n\r\n\t\t\tsetCabeleireiros(cabeleireiros.map(cabeleireiro => (cabeleireiro.id === id ? updatedCabeleireiro : cabeleireiro)))\r\n\t\t}\r\n\r\n\t\tconst editRow = cabeleireiro => {\r\n\t\t\tsetEditing(true)\r\n\r\n\t\t\tsetCurrentCabeleireiro({\r\n\t\t\t\tid: cabeleireiro.id,\r\n\t\t\t\tnome: cabeleireiro.nome,\r\n\t\t\t\tcidade: cabeleireiro.cidade,\r\n\t\t\t\timagem: cabeleireiro.imagem\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{localStorage.getItem(\"user_type\")==\"dono\" ? <NavbarDono></NavbarDono>:<NavbarCliente></NavbarCliente> }\r\n\t\t\t<Fragment>\r\n\t\t\t\t<NavbarDono></NavbarDono>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h1>CRUD dos cabeleireiros no Web Site</h1>\r\n\t\t\t\t\t<div className=\"flex-row\">\r\n\t\t\t\t\t\t<div className=\"flex-large\">\r\n\t\t\t\t\t\t\t{editing ? (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<h2>Editar cabeleireiro</h2>\r\n\t\t\t\t\t\t\t\t\t<EditCabeleireiroForm\r\n\t\t\t\t\t\t\t\t\t\tediting={editing}\r\n\t\t\t\t\t\t\t\t\t\tsetEditing={setEditing}\r\n\t\t\t\t\t\t\t\t\t\tcurrentCabeleireiro={currentCabeleireiro}\r\n\t\t\t\t\t\t\t\t\t\tupdateCabeleireiro={updateCabeleireiro}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<h2>Adicionar cabeleireiro</h2>\r\n\t\t\t\t\t\t\t\t\t<AddCabeleireiroForm addCabeleireiro={addCabeleireiro}/>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex-large\">\r\n\t\t\t\t\t\t\t<h2>Ver cabeleireiros</h2>\r\n\t\t\t\t\t\t\t<CabeleireiroTable cabeleireiros={cabeleireiros} editRow={editRow}\r\n\t\t\t\t\t\t\t\t\t\t\t   deleteCabeleireiro={deleteCabeleireiro}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Fragment>\r\n\t\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}