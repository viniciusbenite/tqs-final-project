{"ast":null,"code":"import _regeneratorRuntime from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link,withRouter}from\"react-router-dom\";import api from\"../services/api\";import{Form,Container}from\"./styles\";var SignUpDono=/*#__PURE__*/function(_Component){_inherits(SignUpDono,_Component);var _super=_createSuper(SignUpDono);function SignUpDono(){var _this;_classCallCheck(this,SignUpDono);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",email:\"\",password:\"\",type:\"dono\",error:\"\"};_this.handleSignUp=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$state,name,email,password,type;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,name=_this$state.name,email=_this$state.email,password=_this$state.password,type=_this$state.type;if(!(!name||!email||!password)){_context.next=6;break;}_this.setState({error:\"Preencha todos os dados para se registar\"});_context.next=16;break;case 6:_context.prev=6;_context.next=9;return api.post(\"/user/\",{name:name,email:email,password:password,type:type});case 9:_this.props.history.push(\"/\");_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](6);console.log(_context.t0);_this.setState({error:\"Ocorreu um erro ao registrar sua conta.\"});case 16:case\"end\":return _context.stop();}}},_callee,null,[[6,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(SignUpDono,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSignUp},this.state.error&&/*#__PURE__*/React.createElement(\"p\",null,this.state.error),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Nome\",onChange:function onChange(e){return _this2.setState({name:e.target.value});}}),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"Endere\\xE7o de e-mail\",onChange:function onChange(e){return _this2.setState({email:e.target.value});}}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return _this2.setState({password:e.target.value});}}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Registar\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Fazer login\")));}}]);return SignUpDono;}(Component);export default withRouter(SignUpDono);","map":{"version":3,"sources":["/home/alina/Desktop/UA-3ANO/TQS/projeto_final/tqs-final-project/src/main/frontend/src/pages/SignUpDono.js"],"names":["React","Component","Link","withRouter","api","Form","Container","SignUpDono","state","name","email","password","type","error","handleSignUp","e","preventDefault","setState","post","props","history","push","console","log","target","value"],"mappings":"6pCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CAGA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CAEA,OAASC,IAAT,CAAeC,SAAf,KAAgC,UAAhC,C,GAEMC,CAAAA,U,2UACJC,K,CAAQ,CACNC,IAAI,CAAE,EADA,CAENC,KAAK,CAAE,EAFD,CAGNC,QAAQ,CAAE,EAHJ,CAINC,IAAI,CAAE,MAJA,CAKNC,KAAK,CAAE,EALD,C,OAQRC,Y,0FAAe,iBAAMC,CAAN,2JACbA,CAAC,CAACC,cAAF,GADa,YAE2B,MAAKR,KAFhC,CAELC,IAFK,aAELA,IAFK,CAECC,KAFD,aAECA,KAFD,CAEQC,QAFR,aAEQA,QAFR,CAEkBC,IAFlB,aAEkBA,IAFlB,MAGT,CAACH,IAAD,EAAS,CAACC,KAAV,EAAmB,CAACC,QAHX,0BAIX,MAAKM,QAAL,CAAc,CAAEJ,KAAK,CAAE,0CAAT,CAAd,EAJW,oEAOHT,CAAAA,GAAG,CAACc,IAAJ,CAAS,QAAT,CAAmB,CAAET,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAAeC,QAAQ,CAARA,QAAf,CAAwBC,IAAI,CAAJA,IAAxB,CAAnB,CAPG,QAQT,MAAKO,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EARS,iFAUTC,OAAO,CAACC,GAAR,cACA,MAAKN,QAAL,CAAc,CAAEJ,KAAK,CAAE,yCAAT,CAAd,EAXS,qE,2IAgBN,iBACP,mBACE,oBAAC,SAAD,mBACE,oBAAC,IAAD,EAAM,QAAQ,CAAE,KAAKC,YAArB,EAEG,KAAKN,KAAL,CAAWK,KAAX,eAAoB,6BAAI,KAAKL,KAAL,CAAWK,KAAf,CAFvB,cAGE,6BACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,MAFd,CAGE,QAAQ,CAAE,kBAAAE,CAAC,QAAI,CAAA,MAAI,CAACE,QAAL,CAAc,CAAER,IAAI,CAAEM,CAAC,CAACS,MAAF,CAASC,KAAjB,CAAd,CAAJ,EAHb,EAHF,cAQE,6BACE,IAAI,CAAC,OADP,CAEE,WAAW,CAAC,uBAFd,CAGE,QAAQ,CAAE,kBAAAV,CAAC,QAAI,CAAA,MAAI,CAACE,QAAL,CAAc,CAAEP,KAAK,CAAEK,CAAC,CAACS,MAAF,CAASC,KAAlB,CAAd,CAAJ,EAHb,EARF,cAaE,6BACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,QAAQ,CAAE,kBAAAV,CAAC,QAAI,CAAA,MAAI,CAACE,QAAL,CAAc,CAAEN,QAAQ,CAAEI,CAAC,CAACS,MAAF,CAASC,KAArB,CAAd,CAAJ,EAHb,EAbF,cAmBE,8BAAQ,IAAI,CAAC,QAAb,aAnBF,cAoBE,8BApBF,cAqBE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,gBArBF,CADF,CADF,CA2BD,C,wBArDsBxB,S,EAwDzB,cAAeE,CAAAA,UAAU,CAACI,UAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\n\nimport api from \"../services/api\";\n\nimport { Form, Container } from \"./styles\";\n\nclass SignUpDono extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    type: \"dono\",\n    error: \"\"\n  };\n\n  handleSignUp = async e => {\n    e.preventDefault();\n    const { name, email, password, type } = this.state;\n    if (!name || !email || !password) {\n      this.setState({ error: \"Preencha todos os dados para se registar\" });\n    } else {\n      try {\n        await api.post(\"/user/\", { name, email, password,type });\n        this.props.history.push(\"/\");\n      } catch (err) {\n        console.log(err);\n        this.setState({ error: \"Ocorreu um erro ao registrar sua conta.\" });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <Container>\n        <Form onSubmit={this.handleSignUp}>\n         \n          {this.state.error && <p>{this.state.error}</p>}\n          <input\n            type=\"text\"\n            placeholder=\"Nome\"\n            onChange={e => this.setState({ name: e.target.value })}\n          />\n          <input\n            type=\"email\"\n            placeholder=\"EndereÃ§o de e-mail\"\n            onChange={e => this.setState({ email: e.target.value })}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={e => this.setState({ password: e.target.value })}\n          />\n          \n          <button type=\"submit\">Registar</button>\n          <hr />\n          <Link to=\"/\">Fazer login</Link>\n        </Form>\n      </Container>\n    );\n  }\n}\n\nexport default withRouter(SignUpDono);"]},"metadata":{},"sourceType":"module"}